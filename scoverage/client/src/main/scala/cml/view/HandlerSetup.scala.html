<html>
      <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
        <title id="title">
          src\main\scala\cml\view\HandlerSetup.scala.html
        </title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.20.1/css/theme.default.min.css" type="text/css"/><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.20.1/js/jquery.tablesorter.min.js"></script><link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css" type="text/css"/><script src="https://netdna.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js"></script><script type="text/javascript">
        $(document).ready(function() {$(".tablesorter").tablesorter();});
      </script>
        <style>
          table.codegrid { font-family: monospace; font-size: 12px; width: auto!important; }table.statementlist { width: auto!important; font-size: 13px; } table.codegrid td { padding: 0!important; border: 0!important } table td.linenumber { width: 40px!important; } 
        </style>
      </head>
      <body style="font-family: monospace;">
        <ul class="nav nav-tabs">
          <li>
            <a href="#codegrid" data-toggle="tab">Codegrid</a>
          </li>
          <li>
            <a href="#statementlist" data-toggle="tab">Statement List</a>
          </li>
        </ul>
        <div class="tab-content">
          <div class="tab-pane active" id="codegrid">
            <pre style='font-size: 12pt; font-family: courier;'>1 <span style=''>package cml.view
</span>2 <span style=''>
</span>3 <span style=''>import akka.actor.ActorSelection
</span>4 <span style=''>import cml.controller.actor.utils.ActorUtils.ActorSystemInfo.system
</span>5 <span style=''>import cml.controller.fx.VillageViewController
</span>6 <span style=''>import cml.controller.messages.VillageRequest.UpdateVillage
</span>7 <span style=''>import cml.model.base._
</span>8 <span style=''>import cml.model.dynamic_model.{RetrieveResource, StructureUpgrade}
</span>9 <span style=''>import cml.model.static_model.{StaticCreatures, StaticStructure}
</span>10 <span style=''>import cml.utils.ModelConfig.Resource._
</span>11 <span style=''>import cml.utils.ModelConfig.ModelClass._
</span>12 <span style=''>import cml.utils.MoneyJson
</span>13 <span style=''>import cml.view.utils.TileConfig._
</span>14 <span style=''>import javafx.scene.image.ImageView
</span>15 <span style=''>import javafx.scene.input._
</span>16 <span style=''>import javafx.scene.layout.GridPane
</span>17 <span style=''>import javafx.scene.{Node, SnapshotParameters}
</span>18 <span style=''>
</span>19 <span style=''>import scala.collection.mutable
</span>20 <span style=''>
</span>21 <span style=''>/**
</span>22 <span style=''>  * Setup handlers with costume settings
</span>23 <span style=''>  * @author Monica Gondolini, ecavina
</span>24 <span style=''>  */
</span>25 <span style=''>trait HandlerSetup {
</span>26 <span style=''>
</span>27 <span style=''>  /**
</span>28 <span style=''>    * Setup handlers for the village
</span>29 <span style=''>    * @param grid what we need to handle
</span>30 <span style=''>    */
</span>31 <span style=''>  def setupVillageHandlers(grid: GridPane, controller: VillageViewController): Unit
</span>32 <span style=''>
</span>33 <span style=''>  /**
</span>34 <span style=''>    * Setup handlers for buildings menu
</span>35 <span style=''>    * @param grid what we need to handle
</span>36 <span style=''>    */
</span>37 <span style=''>  def setupBuildingsHandlers(grid: GridPane, controller: VillageViewController): Unit
</span>38 <span style=''>}
</span>39 <span style=''>
</span>40 <span style=''>trait Handler {
</span>41 <span style=''>  def handle(elem: Node, controller: VillageViewController): Unit
</span>42 <span style=''>}
</span>43 <span style=''>
</span>44 <span style=''>object Handler {
</span>45 <span style=''>
</span>46 <span style=''>  val villageActor: ActorSelection = </span><span style='background: #F0ADAD'>system actorSelection &quot;/user/VillageActor&quot;</span><span style=''>
</span>47 <span style=''>  val structures: mutable.MutableList[Structure] = </span><span style='background: #F0ADAD'>mutable.MutableList[Structure]()</span><span style=''>
</span>48 <span style=''>  val village = </span><span style='background: #F0ADAD'>VillageMap(structures)</span><span style=''>
</span>49 <span style=''>  val price = </span><span style='background: #F0ADAD'>30</span><span style=''> //prezzo iniziale deve essere globale ?
</span>50 <span style=''>
</span>51 <span style=''>  val handleVillage: Handler = {
</span>52 <span style=''>    (elem: Node, control: VillageViewController) =&gt;
</span>53 <span style=''>      </span><span style='background: #F0ADAD'>addClickHandler(elem, control)</span><span style=''>
</span>54 <span style=''>      </span><span style='background: #F0ADAD'>addDragAndDropTargetHandler(elem, control)</span><span style=''>
</span>55 <span style=''>  }
</span>56 <span style=''>
</span>57 <span style=''>  val handleBuilding: Handler = {
</span>58 <span style=''>    (_: Node, control: VillageViewController) =&gt;
</span>59 <span style=''>      </span><span style='background: #F0ADAD'>for(tile &lt;- tileSet){
</span>60 <span style=''></span><span style='background: #F0ADAD'>        addDragAndDropSourceHandler(tile, control)</span><span style=''>
</span>61 <span style=''>      }
</span>62 <span style=''>  }
</span>63 <span style=''>
</span>64 <span style=''>  private def addClickHandler(n: Node, c: VillageViewController): Unit = {
</span>65 <span style=''>    </span><span style='background: #F0ADAD'>n setOnMouseClicked(_ =&gt; {
</span>66 <span style=''></span><span style='background: #F0ADAD'>      val y = GridPane.getColumnIndex(n)
</span>67 <span style=''></span><span style='background: #F0ADAD'>      val x = GridPane.getRowIndex(n)
</span>68 <span style=''></span><span style='background: #F0ADAD'>      disableButtons(c)
</span>69 <span style=''></span><span style='background: #F0ADAD'>      c.selectionInfo setText &quot;Coordinates (&quot; + x + &quot;, &quot; + y + &quot;)&quot;
</span>70 <span style=''></span><span style='background: #F0ADAD'>
</span>71 <span style=''></span><span style='background: #F0ADAD'>      for (s &lt;- village.structures) {
</span>72 <span style=''></span><span style='background: #F0ADAD'>        if (s.position equals Position(x, y)) {
</span>73 <span style=''></span><span style='background: #F0ADAD'>          if (s.creatures != null &amp;&amp; s.creatures.isEmpty) {
</span>74 <span style=''></span><span style='background: #F0ADAD'>            c.addCreatureButton setDisable false
</span>75 <span style=''></span><span style='background: #F0ADAD'>            c.selectionInfo setText &quot;Structure: &quot; + getClassName(s)
</span>76 <span style=''></span><span style='background: #F0ADAD'>            c.addCreatureButton.setOnMouseClicked(_ =&gt; {
</span>77 <span style=''></span><span style='background: #F0ADAD'>              val creature = StaticCreatures(s)
</span>78 <span style=''></span><span style='background: #F0ADAD'>              s.addCreature(creature getCreature)
</span>79 <span style=''></span><span style='background: #F0ADAD'>              villageActor ! UpdateVillage(creature json)
</span>80 <span style=''></span><span style='background: #F0ADAD'>              c.addCreatureButton setDisable true
</span>81 <span style=''></span><span style='background: #F0ADAD'>              c.selectionInfo setText displayText(getClassName(s), s.level, s.resource.amount, s.creatures)
</span>82 <span style=''></span><span style='background: #F0ADAD'>            })
</span>83 <span style=''></span><span style='background: #F0ADAD'>          } else {
</span>84 <span style=''></span><span style='background: #F0ADAD'>            c.levelUpButton setDisable false //TODO se terrain disabilitare
</span>85 <span style=''></span><span style='background: #F0ADAD'>            c.levelUpButton setOnMouseClicked (_ =&gt; {
</span>86 <span style=''></span><span style='background: #F0ADAD'>              val upgrade = StructureUpgrade(s)
</span>87 <span style=''></span><span style='background: #F0ADAD'>              villageActor ! UpdateVillage(upgrade structureJson)
</span>88 <span style=''></span><span style='background: #F0ADAD'>              upgrade creatureJson match {
</span>89 <span style=''></span><span style='background: #F0ADAD'>                case null =&gt; println(&quot;Not an habitat&quot;)
</span>90 <span style=''></span><span style='background: #F0ADAD'>                case _ =&gt; villageActor ! UpdateVillage(upgrade creatureJson)
</span>91 <span style=''></span><span style='background: #F0ADAD'>              }
</span>92 <span style=''></span><span style='background: #F0ADAD'>              //Decremento denaro in base al prezzo, update modello remoto e locale
</span>93 <span style=''></span><span style='background: #F0ADAD'>              val resourceJson = MoneyJson(INIT_VALUE - price).json
</span>94 <span style=''></span><span style='background: #F0ADAD'>              villageActor ! UpdateVillage(resourceJson)
</span>95 <span style=''></span><span style='background: #F0ADAD'>
</span>96 <span style=''></span><span style='background: #F0ADAD'>              c.selectionInfo setText displayText(getClassName(s), s.level, s.resource.amount, s.creatures)
</span>97 <span style=''></span><span style='background: #F0ADAD'>            })
</span>98 <span style=''></span><span style='background: #F0ADAD'>
</span>99 <span style=''></span><span style='background: #F0ADAD'>            s.resource.inc(s.level) //debug
</span>100 <span style=''></span><span style='background: #F0ADAD'>            c.selectionInfo setText displayText(getClassName(s), s.level, s.resource.amount, s.creatures)
</span>101 <span style=''></span><span style='background: #F0ADAD'>
</span>102 <span style=''></span><span style='background: #F0ADAD'>            if (s.resource.amount &gt; INIT_VALUE) { //settare un current value?
</span>103 <span style=''></span><span style='background: #F0ADAD'>              c.takeButton setDisable false
</span>104 <span style=''></span><span style='background: #F0ADAD'>              c.takeButton setOnMouseClicked (_ =&gt; {
</span>105 <span style=''></span><span style='background: #F0ADAD'>                val retrieve = RetrieveResource(s)
</span>106 <span style=''></span><span style='background: #F0ADAD'>                villageActor ! UpdateVillage(retrieve resourceJson)
</span>107 <span style=''></span><span style='background: #F0ADAD'>                c.takeButton setDisable true
</span>108 <span style=''></span><span style='background: #F0ADAD'>                c.selectionInfo setText displayText(getClassName(s), s.level, s.resource.amount, s.creatures)
</span>109 <span style=''></span><span style='background: #F0ADAD'>              })
</span>110 <span style=''></span><span style='background: #F0ADAD'>            }
</span>111 <span style=''></span><span style='background: #F0ADAD'>          }
</span>112 <span style=''></span><span style='background: #F0ADAD'>        }
</span>113 <span style=''></span><span style='background: #F0ADAD'>      }
</span>114 <span style=''></span><span style='background: #F0ADAD'>    })</span><span style=''>
</span>115 <span style=''>  }
</span>116 <span style=''>
</span>117 <span style=''>  private def addDragAndDropSourceHandler(t: Tile, c: VillageViewController): Unit = {
</span>118 <span style=''>    val canvas = </span><span style='background: #F0ADAD'>t.imageSprite</span><span style=''>
</span>119 <span style=''>    </span><span style='background: #F0ADAD'>canvas setOnMouseClicked (_ =&gt; c.selectionInfo setText &quot;Element selected: &quot;+ t.description + &quot;\nPrice: &quot;+price)</span><span style=''>
</span>120 <span style=''>    </span><span style='background: #F0ADAD'>canvas setOnDragDetected ((event: MouseEvent) =&gt; {
</span>121 <span style=''></span><span style='background: #F0ADAD'>      val dragBoard: Dragboard = canvas startDragAndDrop TransferMode.COPY
</span>122 <span style=''></span><span style='background: #F0ADAD'>      val image = canvas.snapshot(new SnapshotParameters, null)
</span>123 <span style=''></span><span style='background: #F0ADAD'>      dragBoard setDragView image
</span>124 <span style=''></span><span style='background: #F0ADAD'>      val content: ClipboardContent = new ClipboardContent
</span>125 <span style=''></span><span style='background: #F0ADAD'>      content putString t.description
</span>126 <span style=''></span><span style='background: #F0ADAD'>      dragBoard setContent content
</span>127 <span style=''></span><span style='background: #F0ADAD'>      c.selectionInfo setText &quot;Dragged element &quot; + dragBoard.getString
</span>128 <span style=''></span><span style='background: #F0ADAD'>      event consume()
</span>129 <span style=''></span><span style='background: #F0ADAD'>    })</span><span style=''>
</span>130 <span style=''>  }
</span>131 <span style=''>
</span>132 <span style=''>  private def addDragAndDropTargetHandler(n: Node, c: VillageViewController): Unit = {
</span>133 <span style=''>    </span><span style='background: #F0ADAD'>n setOnDragOver ((event: DragEvent) =&gt; {
</span>134 <span style=''></span><span style='background: #F0ADAD'>      event acceptTransferModes TransferMode.COPY
</span>135 <span style=''></span><span style='background: #F0ADAD'>      event consume()
</span>136 <span style=''></span><span style='background: #F0ADAD'>    })</span><span style=''>
</span>137 <span style=''>
</span>138 <span style=''>    </span><span style='background: #F0ADAD'>n setOnDragDropped ((event: DragEvent) =&gt; {
</span>139 <span style=''></span><span style='background: #F0ADAD'>      val dragBoard: Dragboard = event getDragboard()
</span>140 <span style=''></span><span style='background: #F0ADAD'>      val newTile = tileSet.filter(t =&gt; t.description.equals(dragBoard.getString)).head
</span>141 <span style=''></span><span style='background: #F0ADAD'>      n match {
</span>142 <span style=''></span><span style='background: #F0ADAD'>        case i: ImageView =&gt; i setImage newTile.imageSprite.snapshot(new SnapshotParameters, null)
</span>143 <span style=''></span><span style='background: #F0ADAD'>        case _ =&gt; throw new ClassCastException
</span>144 <span style=''></span><span style='background: #F0ADAD'>      }
</span>145 <span style=''></span><span style='background: #F0ADAD'>      val y = GridPane.getColumnIndex(n)
</span>146 <span style=''></span><span style='background: #F0ADAD'>      val x = GridPane.getRowIndex(n)
</span>147 <span style=''></span><span style='background: #F0ADAD'>
</span>148 <span style=''></span><span style='background: #F0ADAD'>      val structure = StaticStructure(newTile, x, y)
</span>149 <span style=''></span><span style='background: #F0ADAD'>      val json = structure.json
</span>150 <span style=''></span><span style='background: #F0ADAD'>      village.structures += structure.getStructure
</span>151 <span style=''></span><span style='background: #F0ADAD'>      villageActor ! UpdateVillage(json)
</span>152 <span style=''></span><span style='background: #F0ADAD'>
</span>153 <span style=''></span><span style='background: #F0ADAD'>      //Decremento denaro in base al prezzo, update modello remoto e locale
</span>154 <span style=''></span><span style='background: #F0ADAD'>      val resourceJson = MoneyJson(INIT_VALUE-price).json
</span>155 <span style=''></span><span style='background: #F0ADAD'>      villageActor ! UpdateVillage(resourceJson)
</span>156 <span style=''></span><span style='background: #F0ADAD'>
</span>157 <span style=''></span><span style='background: #F0ADAD'>      c.selectionInfo setText &quot;Dropped element &quot; + dragBoard.getString + &quot; in coordinates (&quot; + x + &quot; - &quot; + y + &quot;)&quot;
</span>158 <span style=''></span><span style='background: #F0ADAD'>      event consume()
</span>159 <span style=''></span><span style='background: #F0ADAD'>    })</span><span style=''>
</span>160 <span style=''>  }
</span>161 <span style=''>
</span>162 <span style=''>  private def displayText(name: String, level: Int, resourceAmount: Int, creatures: mutable.MutableList[Creature]): String = {
</span>163 <span style=''>    var text:String = </span><span style='background: #F0ADAD'>&quot;&quot;</span><span style=''>
</span>164 <span style=''>    if(</span><span style='background: #F0ADAD'>creatures != null &amp;&amp; creatures.nonEmpty</span><span style=''>) {
</span>165 <span style=''>      </span><span style='background: #F0ADAD'>text = &quot;Structure &quot; + name + &quot;\n&quot; +
</span>166 <span style=''></span><span style='background: #F0ADAD'>        &quot;Level: &quot; + level + &quot;\n&quot; +
</span>167 <span style=''></span><span style='background: #F0ADAD'>        &quot;Resources: &quot; + resourceAmount + &quot;\n&quot; +
</span>168 <span style=''></span><span style='background: #F0ADAD'>        &quot;Creature: &quot; + creatures.head.name + &quot;\nType: &quot;+ creatures.head.creatureType +&quot;\n&quot;+
</span>169 <span style=''></span><span style='background: #F0ADAD'>        &quot;Creature level: &quot; + creatures.head.currentLevel</span><span style=''>
</span>170 <span style=''>    }else{
</span>171 <span style=''>      </span><span style='background: #F0ADAD'>text = &quot;Structure &quot; + name + &quot;\n&quot; +
</span>172 <span style=''></span><span style='background: #F0ADAD'>        &quot;Level: &quot; + level + &quot;\n&quot; +
</span>173 <span style=''></span><span style='background: #F0ADAD'>        &quot;Resources: &quot; + resourceAmount + &quot;\n&quot;</span><span style=''>
</span>174 <span style=''>    }
</span>175 <span style=''>    text
</span>176 <span style=''>  }
</span>177 <span style=''>
</span>178 <span style=''>  private def disableButtons(c: VillageViewController): Unit = {
</span>179 <span style=''>    </span><span style='background: #F0ADAD'>c.levelUpButton setDisable true</span><span style=''>
</span>180 <span style=''>    </span><span style='background: #F0ADAD'>c.takeButton setDisable true</span><span style=''>
</span>181 <span style=''>    </span><span style='background: #F0ADAD'>c.addCreatureButton setDisable true</span><span style=''>
</span>182 <span style=''>  }
</span>183 <span style=''>
</span>184 <span style=''>  private def getClassName(s: Structure): String = {
</span>185 <span style=''>    var name: String = </span><span style='background: #F0ADAD'>&quot;&quot;</span><span style=''>
</span>186 <span style=''>    </span><span style='background: #F0ADAD'>s.getClass.getName</span><span style=''> match {
</span>187 <span style=''>      case FARM =&gt; name = </span><span style='background: #F0ADAD'>&quot;FARM&quot;</span><span style=''>
</span>188 <span style=''>      case CAVE =&gt; name = </span><span style='background: #F0ADAD'>&quot;CAVE&quot;</span><span style=''>
</span>189 <span style=''>      case HABITAT =&gt; name = </span><span style='background: #F0ADAD'>&quot;HABITAT - Element: &quot; + s.element</span><span style=''>
</span>190 <span style=''>    }
</span>191 <span style=''>    name
</span>192 <span style=''>  }
</span>193 <span style=''>}
</span>194 <span style=''>
</span>195 <span style=''>object ConcreteHandlerSetup extends HandlerSetup {
</span>196 <span style=''>
</span>197 <span style=''>  private def setHandlers(grid: GridPane, controller: VillageViewController, handler: Handler): Unit = {
</span>198 <span style=''>    val gridChildren = </span><span style='background: #F0ADAD'>grid.getChildren</span><span style=''>
</span>199 <span style=''>    </span><span style='background: #F0ADAD'>gridChildren forEach(g =&gt; handler.handle(g, controller))</span><span style=''>
</span>200 <span style=''>  }
</span>201 <span style=''>
</span>202 <span style=''>  override def setupVillageHandlers(grid: GridPane, controller: VillageViewController): Unit = </span><span style='background: #F0ADAD'>setHandlers(grid, controller, Handler.handleVillage)</span><span style=''>
</span>203 <span style=''>
</span>204 <span style=''>  override def setupBuildingsHandlers(grid: GridPane, controller: VillageViewController): Unit = </span><span style='background: #F0ADAD'>setHandlers(grid, controller, Handler.handleBuilding)</span><span style=''>
</span>205 <span style=''>}
</span></pre>
          </div>
          <div class="tab-pane" id="statementlist">
            <table cellspacing="0" cellpadding="0" class="table statementlist">
      <tr>
        <th>Line</th>
        <th>Stmt Id</th>
        <th>Pos</th>
        <th>Tree</th>
        <th>Symbol</th>
        <th>Code</th>
      </tr><tr>
        <td>
          46
        </td>
        <td>
          600
        </td>
        <td>
          1362
          -
          1404
        </td>
        <td>
          Apply
        </td>
        <td>
          akka.actor.ActorRefFactory.actorSelection
        </td>
        <td style="background: #F0ADAD">
          cml.controller.actor.utils.ActorUtils.ActorSystemInfo.system.actorSelection(&quot;/user/VillageActor&quot;)
        </td>
      </tr><tr>
        <td>
          47
        </td>
        <td>
          601
        </td>
        <td>
          1457
          -
          1489
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.collection.generic.GenericCompanion.apply
        </td>
        <td style="background: #F0ADAD">
          scala.collection.mutable.MutableList.apply[cml.model.base.Structure]()
        </td>
      </tr><tr>
        <td>
          48
        </td>
        <td>
          603
        </td>
        <td>
          1507
          -
          1529
        </td>
        <td>
          Apply
        </td>
        <td>
          cml.model.base.VillageMap.apply
        </td>
        <td style="background: #F0ADAD">
          cml.model.base.VillageMap.apply(Handler.this.structures)
        </td>
      </tr><tr>
        <td>
          48
        </td>
        <td>
          602
        </td>
        <td>
          1518
          -
          1528
        </td>
        <td>
          Select
        </td>
        <td>
          cml.view.Handler.structures
        </td>
        <td style="background: #F0ADAD">
          Handler.this.structures
        </td>
      </tr><tr>
        <td>
          49
        </td>
        <td>
          604
        </td>
        <td>
          1545
          -
          1547
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #F0ADAD">
          30
        </td>
      </tr><tr>
        <td>
          53
        </td>
        <td>
          605
        </td>
        <td>
          1684
          -
          1714
        </td>
        <td>
          Apply
        </td>
        <td>
          cml.view.Handler.addClickHandler
        </td>
        <td style="background: #F0ADAD">
          Handler.this.addClickHandler(elem, control)
        </td>
      </tr><tr>
        <td>
          54
        </td>
        <td>
          606
        </td>
        <td>
          1722
          -
          1764
        </td>
        <td>
          Apply
        </td>
        <td>
          cml.view.Handler.addDragAndDropTargetHandler
        </td>
        <td style="background: #F0ADAD">
          Handler.this.addDragAndDropTargetHandler(elem, control)
        </td>
      </tr><tr>
        <td>
          59
        </td>
        <td>
          608
        </td>
        <td>
          1864
          -
          1937
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.collection.IterableLike.foreach
        </td>
        <td style="background: #F0ADAD">
          cml.view.utils.TileConfig.tileSet.foreach[Unit](((tile: cml.view.Tile) =&gt; Handler.this.addDragAndDropSourceHandler(tile, control)))
        </td>
      </tr><tr>
        <td>
          60
        </td>
        <td>
          607
        </td>
        <td>
          1895
          -
          1937
        </td>
        <td>
          Apply
        </td>
        <td>
          cml.view.Handler.addDragAndDropSourceHandler
        </td>
        <td style="background: #F0ADAD">
          Handler.this.addDragAndDropSourceHandler(tile, control)
        </td>
      </tr><tr>
        <td>
          65
        </td>
        <td>
          709
        </td>
        <td>
          2035
          -
          4386
        </td>
        <td>
          Apply
        </td>
        <td>
          javafx.scene.Node.setOnMouseClicked
        </td>
        <td style="background: #F0ADAD">
          n.setOnMouseClicked(((x$2: javafx.scene.input.MouseEvent) =&gt; {
  val y: Integer = javafx.scene.layout.GridPane.getColumnIndex(n);
  val x: Integer = javafx.scene.layout.GridPane.getRowIndex(n);
  Handler.this.disableButtons(c);
  c.selectionInfo.setText(&quot;Coordinates (&quot;.+(x).+(&quot;, &quot;).+(y).+(&quot;)&quot;));
  Handler.this.village.structures.foreach[Unit](((s: cml.model.base.Structure) =&gt; if (s.position.equals(cml.model.base.Position.apply(scala.Predef.Integer2int(x), scala.Predef.Integer2int(y))))
    if (s.creatures.!=(null).&amp;&amp;(s.creatures.isEmpty))
      {
        c.addCreatureButton.setDisable(false);
        c.selectionInfo.setText(&quot;Structure: &quot;.+(Handler.this.getClassName(s)));
        c.addCreatureButton.setOnMouseClicked(((x$3: javafx.scene.input.MouseEvent) =&gt; {
          val creature: cml.model.static_model.StaticCreatures = cml.model.static_model.StaticCreatures.apply(s);
          s.addCreature(creature.getCreature);
          {
            &lt;artifact&gt; val qual$1: akka.actor.ScalaActorSelection = actor.this.ActorSelection.toScala(Handler.this.villageActor);
            &lt;artifact&gt; val x$7: cml.controller.messages.VillageRequest.UpdateVillage = cml.controller.messages.VillageRequest.UpdateVillage.apply(creature.json);
            &lt;artifact&gt; val x$8: akka.actor.ActorRef = qual$1.!$default$2(x$7);
            qual$1.!(x$7)(x$8)
          };
          c.addCreatureButton.setDisable(true);
          c.selectionInfo.setText(Handler.this.displayText(Handler.this.getClassName(s), s.level, s.resource.amount, s.creatures))
        }))
      }
    else
      {
        c.levelUpButton.setDisable(false);
        c.levelUpButton.setOnMouseClicked(((x$4: javafx.scene.input.MouseEvent) =&gt; {
          val upgrade: cml.model.dynamic_model.StructureUpgrade = cml.model.dynamic_model.StructureUpgrade.apply(s);
          {
            &lt;artifact&gt; val qual$2: akka.actor.ScalaActorSelection = actor.this.ActorSelection.toScala(Handler.this.villageActor);
            &lt;artifact&gt; val x$9: cml.controller.messages.VillageRequest.UpdateVillage = cml.controller.messages.VillageRequest.UpdateVillage.apply(upgrade.structureJson);
            &lt;artifact&gt; val x$10: akka.actor.ActorRef = qual$2.!$default$2(x$9);
            qual$2.!(x$9)(x$10)
          };
          upgrade.creatureJson match {
            case null =&gt; scala.Predef.println(&quot;Not an habitat&quot;)
            case _ =&gt; {
              &lt;artifact&gt; val qual$3: akka.actor.ScalaActorSelection = actor.this.ActorSelection.toScala(Handler.this.villageActor);
              &lt;artifact&gt; val x$11: cml.controller.messages.VillageRequest.UpdateVillage = cml.controller.messages.VillageRequest.UpdateVillage.apply(upgrade.creatureJson);
              &lt;artifact&gt; val x$12: akka.actor.ActorRef = qual$3.!$default$2(x$11);
              qual$3.!(x$11)(x$12)
            }
          };
          val resourceJson: play.api.libs.json.JsValue = cml.utils.MoneyJson.apply(cml.utils.ModelConfig.Resource.INIT_VALUE.-(Handler.this.price)).json;
          {
            &lt;artifact&gt; val qual$4: akka.actor.ScalaActorSelection = actor.this.ActorSelection.toScala(Handler.this.villageActor);
            &lt;artifact&gt; val x$13: cml.controller.messages.VillageRequest.UpdateVillage = cml.controller.messages.VillageRequest.UpdateVillage.apply(resourceJson);
            &lt;artifact&gt; val x$14: akka.actor.ActorRef = qual$4.!$default$2(x$13);
            qual$4.!(x$13)(x$14)
          };
          c.selectionInfo.setText(Handler.this.displayText(Handler.this.getClassName(s), s.level, s.resource.amount, s.creatures))
        }));
        s.resource.inc(s.level);
        c.selectionInfo.setText(Handler.this.displayText(Handler.this.getClassName(s), s.level, s.resource.amount, s.creatures));
        if (s.resource.amount.&gt;(cml.utils.ModelConfig.Resource.INIT_VALUE))
          {
            c.takeButton.setDisable(false);
            c.takeButton.setOnMouseClicked(((x$5: javafx.scene.input.MouseEvent) =&gt; {
              val retrieve: cml.model.dynamic_model.RetrieveResource = cml.model.dynamic_model.RetrieveResource.apply(s);
              {
                &lt;artifact&gt; val qual$5: akka.actor.ScalaActorSelection = actor.this.ActorSelection.toScala(Handler.this.villageActor);
                &lt;artifact&gt; val x$15: cml.controller.messages.VillageRequest.UpdateVillage = cml.controller.messages.VillageRequest.UpdateVillage.apply(retrieve.resourceJson);
                &lt;artifact&gt; val x$16: akka.actor.ActorRef = qual$5.!$default$2(x$15);
                qual$5.!(x$15)(x$16)
              };
              c.takeButton.setDisable(true);
              c.selectionInfo.setText(Handler.this.displayText(Handler.this.getClassName(s), s.level, s.resource.amount, s.creatures))
            }))
          }
        else
          ()
      }
  else
    ()))
}))
        </td>
      </tr><tr>
        <td>
          66
        </td>
        <td>
          609
        </td>
        <td>
          2077
          -
          2103
        </td>
        <td>
          Apply
        </td>
        <td>
          javafx.scene.layout.GridPane.getColumnIndex
        </td>
        <td style="background: #F0ADAD">
          javafx.scene.layout.GridPane.getColumnIndex(n)
        </td>
      </tr><tr>
        <td>
          67
        </td>
        <td>
          610
        </td>
        <td>
          2119
          -
          2142
        </td>
        <td>
          Apply
        </td>
        <td>
          javafx.scene.layout.GridPane.getRowIndex
        </td>
        <td style="background: #F0ADAD">
          javafx.scene.layout.GridPane.getRowIndex(n)
        </td>
      </tr><tr>
        <td>
          68
        </td>
        <td>
          611
        </td>
        <td>
          2150
          -
          2167
        </td>
        <td>
          Apply
        </td>
        <td>
          cml.view.Handler.disableButtons
        </td>
        <td style="background: #F0ADAD">
          Handler.this.disableButtons(c)
        </td>
      </tr><tr>
        <td>
          69
        </td>
        <td>
          612
        </td>
        <td>
          2199
          -
          2235
        </td>
        <td>
          Apply
        </td>
        <td>
          java.lang.String.+
        </td>
        <td style="background: #F0ADAD">
          &quot;Coordinates (&quot;.+(x).+(&quot;, &quot;).+(y).+(&quot;)&quot;)
        </td>
      </tr><tr>
        <td>
          69
        </td>
        <td>
          613
        </td>
        <td>
          2175
          -
          2235
        </td>
        <td>
          Apply
        </td>
        <td>
          javafx.scene.control.TextInputControl.setText
        </td>
        <td style="background: #F0ADAD">
          c.selectionInfo.setText(&quot;Coordinates (&quot;.+(x).+(&quot;, &quot;).+(y).+(&quot;)&quot;))
        </td>
      </tr><tr>
        <td>
          71
        </td>
        <td>
          708
        </td>
        <td>
          2245
          -
          4369
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.collection.LinearSeqOptimized.foreach
        </td>
        <td style="background: #F0ADAD">
          Handler.this.village.structures.foreach[Unit](((s: cml.model.base.Structure) =&gt; if (s.position.equals(cml.model.base.Position.apply(scala.Predef.Integer2int(x), scala.Predef.Integer2int(y))))
  if (s.creatures.!=(null).&amp;&amp;(s.creatures.isEmpty))
    {
      c.addCreatureButton.setDisable(false);
      c.selectionInfo.setText(&quot;Structure: &quot;.+(Handler.this.getClassName(s)));
      c.addCreatureButton.setOnMouseClicked(((x$3: javafx.scene.input.MouseEvent) =&gt; {
        val creature: cml.model.static_model.StaticCreatures = cml.model.static_model.StaticCreatures.apply(s);
        s.addCreature(creature.getCreature);
        {
          &lt;artifact&gt; val qual$1: akka.actor.ScalaActorSelection = actor.this.ActorSelection.toScala(Handler.this.villageActor);
          &lt;artifact&gt; val x$7: cml.controller.messages.VillageRequest.UpdateVillage = cml.controller.messages.VillageRequest.UpdateVillage.apply(creature.json);
          &lt;artifact&gt; val x$8: akka.actor.ActorRef = qual$1.!$default$2(x$7);
          qual$1.!(x$7)(x$8)
        };
        c.addCreatureButton.setDisable(true);
        c.selectionInfo.setText(Handler.this.displayText(Handler.this.getClassName(s), s.level, s.resource.amount, s.creatures))
      }))
    }
  else
    {
      c.levelUpButton.setDisable(false);
      c.levelUpButton.setOnMouseClicked(((x$4: javafx.scene.input.MouseEvent) =&gt; {
        val upgrade: cml.model.dynamic_model.StructureUpgrade = cml.model.dynamic_model.StructureUpgrade.apply(s);
        {
          &lt;artifact&gt; val qual$2: akka.actor.ScalaActorSelection = actor.this.ActorSelection.toScala(Handler.this.villageActor);
          &lt;artifact&gt; val x$9: cml.controller.messages.VillageRequest.UpdateVillage = cml.controller.messages.VillageRequest.UpdateVillage.apply(upgrade.structureJson);
          &lt;artifact&gt; val x$10: akka.actor.ActorRef = qual$2.!$default$2(x$9);
          qual$2.!(x$9)(x$10)
        };
        upgrade.creatureJson match {
          case null =&gt; scala.Predef.println(&quot;Not an habitat&quot;)
          case _ =&gt; {
            &lt;artifact&gt; val qual$3: akka.actor.ScalaActorSelection = actor.this.ActorSelection.toScala(Handler.this.villageActor);
            &lt;artifact&gt; val x$11: cml.controller.messages.VillageRequest.UpdateVillage = cml.controller.messages.VillageRequest.UpdateVillage.apply(upgrade.creatureJson);
            &lt;artifact&gt; val x$12: akka.actor.ActorRef = qual$3.!$default$2(x$11);
            qual$3.!(x$11)(x$12)
          }
        };
        val resourceJson: play.api.libs.json.JsValue = cml.utils.MoneyJson.apply(cml.utils.ModelConfig.Resource.INIT_VALUE.-(Handler.this.price)).json;
        {
          &lt;artifact&gt; val qual$4: akka.actor.ScalaActorSelection = actor.this.ActorSelection.toScala(Handler.this.villageActor);
          &lt;artifact&gt; val x$13: cml.controller.messages.VillageRequest.UpdateVillage = cml.controller.messages.VillageRequest.UpdateVillage.apply(resourceJson);
          &lt;artifact&gt; val x$14: akka.actor.ActorRef = qual$4.!$default$2(x$13);
          qual$4.!(x$13)(x$14)
        };
        c.selectionInfo.setText(Handler.this.displayText(Handler.this.getClassName(s), s.level, s.resource.amount, s.creatures))
      }));
      s.resource.inc(s.level);
      c.selectionInfo.setText(Handler.this.displayText(Handler.this.getClassName(s), s.level, s.resource.amount, s.creatures));
      if (s.resource.amount.&gt;(cml.utils.ModelConfig.Resource.INIT_VALUE))
        {
          c.takeButton.setDisable(false);
          c.takeButton.setOnMouseClicked(((x$5: javafx.scene.input.MouseEvent) =&gt; {
            val retrieve: cml.model.dynamic_model.RetrieveResource = cml.model.dynamic_model.RetrieveResource.apply(s);
            {
              &lt;artifact&gt; val qual$5: akka.actor.ScalaActorSelection = actor.this.ActorSelection.toScala(Handler.this.villageActor);
              &lt;artifact&gt; val x$15: cml.controller.messages.VillageRequest.UpdateVillage = cml.controller.messages.VillageRequest.UpdateVillage.apply(retrieve.resourceJson);
              &lt;artifact&gt; val x$16: akka.actor.ActorRef = qual$5.!$default$2(x$15);
              qual$5.!(x$15)(x$16)
            };
            c.takeButton.setDisable(true);
            c.selectionInfo.setText(Handler.this.displayText(Handler.this.getClassName(s), s.level, s.resource.amount, s.creatures))
          }))
        }
      else
        ()
    }
else
  ()))
        </td>
      </tr><tr>
        <td>
          72
        </td>
        <td>
          615
        </td>
        <td>
          2320
          -
          2321
        </td>
        <td>
          ApplyImplicitView
        </td>
        <td>
          scala.Predef.Integer2int
        </td>
        <td style="background: #F0ADAD">
          scala.Predef.Integer2int(y)
        </td>
      </tr><tr>
        <td>
          72
        </td>
        <td>
          707
        </td>
        <td>
          2286
          -
          2286
        </td>
        <td>
          Block
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #F0ADAD">
          ()
        </td>
      </tr><tr>
        <td>
          72
        </td>
        <td>
          617
        </td>
        <td>
          2290
          -
          2322
        </td>
        <td>
          Apply
        </td>
        <td>
          cml.model.base.Position.equals
        </td>
        <td style="background: #F0ADAD">
          s.position.equals(cml.model.base.Position.apply(scala.Predef.Integer2int(x), scala.Predef.Integer2int(y)))
        </td>
      </tr><tr>
        <td>
          72
        </td>
        <td>
          614
        </td>
        <td>
          2317
          -
          2318
        </td>
        <td>
          ApplyImplicitView
        </td>
        <td>
          scala.Predef.Integer2int
        </td>
        <td style="background: #F0ADAD">
          scala.Predef.Integer2int(x)
        </td>
      </tr><tr>
        <td>
          72
        </td>
        <td>
          706
        </td>
        <td>
          2286
          -
          2286
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #F0ADAD">
          ()
        </td>
      </tr><tr>
        <td>
          72
        </td>
        <td>
          616
        </td>
        <td>
          2308
          -
          2322
        </td>
        <td>
          Apply
        </td>
        <td>
          cml.model.base.Position.apply
        </td>
        <td style="background: #F0ADAD">
          cml.model.base.Position.apply(scala.Predef.Integer2int(x), scala.Predef.Integer2int(y))
        </td>
      </tr><tr>
        <td>
          73
        </td>
        <td>
          705
        </td>
        <td>
          2337
          -
          4358
        </td>
        <td>
          If
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #F0ADAD">
          if (s.creatures.!=(null).&amp;&amp;(s.creatures.isEmpty))
  {
    c.addCreatureButton.setDisable(false);
    c.selectionInfo.setText(&quot;Structure: &quot;.+(Handler.this.getClassName(s)));
    c.addCreatureButton.setOnMouseClicked(((x$3: javafx.scene.input.MouseEvent) =&gt; {
      val creature: cml.model.static_model.StaticCreatures = cml.model.static_model.StaticCreatures.apply(s);
      s.addCreature(creature.getCreature);
      {
        &lt;artifact&gt; val qual$1: akka.actor.ScalaActorSelection = actor.this.ActorSelection.toScala(Handler.this.villageActor);
        &lt;artifact&gt; val x$7: cml.controller.messages.VillageRequest.UpdateVillage = cml.controller.messages.VillageRequest.UpdateVillage.apply(creature.json);
        &lt;artifact&gt; val x$8: akka.actor.ActorRef = qual$1.!$default$2(x$7);
        qual$1.!(x$7)(x$8)
      };
      c.addCreatureButton.setDisable(true);
      c.selectionInfo.setText(Handler.this.displayText(Handler.this.getClassName(s), s.level, s.resource.amount, s.creatures))
    }))
  }
else
  {
    c.levelUpButton.setDisable(false);
    c.levelUpButton.setOnMouseClicked(((x$4: javafx.scene.input.MouseEvent) =&gt; {
      val upgrade: cml.model.dynamic_model.StructureUpgrade = cml.model.dynamic_model.StructureUpgrade.apply(s);
      {
        &lt;artifact&gt; val qual$2: akka.actor.ScalaActorSelection = actor.this.ActorSelection.toScala(Handler.this.villageActor);
        &lt;artifact&gt; val x$9: cml.controller.messages.VillageRequest.UpdateVillage = cml.controller.messages.VillageRequest.UpdateVillage.apply(upgrade.structureJson);
        &lt;artifact&gt; val x$10: akka.actor.ActorRef = qual$2.!$default$2(x$9);
        qual$2.!(x$9)(x$10)
      };
      upgrade.creatureJson match {
        case null =&gt; scala.Predef.println(&quot;Not an habitat&quot;)
        case _ =&gt; {
          &lt;artifact&gt; val qual$3: akka.actor.ScalaActorSelection = actor.this.ActorSelection.toScala(Handler.this.villageActor);
          &lt;artifact&gt; val x$11: cml.controller.messages.VillageRequest.UpdateVillage = cml.controller.messages.VillageRequest.UpdateVillage.apply(upgrade.creatureJson);
          &lt;artifact&gt; val x$12: akka.actor.ActorRef = qual$3.!$default$2(x$11);
          qual$3.!(x$11)(x$12)
        }
      };
      val resourceJson: play.api.libs.json.JsValue = cml.utils.MoneyJson.apply(cml.utils.ModelConfig.Resource.INIT_VALUE.-(Handler.this.price)).json;
      {
        &lt;artifact&gt; val qual$4: akka.actor.ScalaActorSelection = actor.this.ActorSelection.toScala(Handler.this.villageActor);
        &lt;artifact&gt; val x$13: cml.controller.messages.VillageRequest.UpdateVillage = cml.controller.messages.VillageRequest.UpdateVillage.apply(resourceJson);
        &lt;artifact&gt; val x$14: akka.actor.ActorRef = qual$4.!$default$2(x$13);
        qual$4.!(x$13)(x$14)
      };
      c.selectionInfo.setText(Handler.this.displayText(Handler.this.getClassName(s), s.level, s.resource.amount, s.creatures))
    }));
    s.resource.inc(s.level);
    c.selectionInfo.setText(Handler.this.displayText(Handler.this.getClassName(s), s.level, s.resource.amount, s.creatures));
    if (s.resource.amount.&gt;(cml.utils.ModelConfig.Resource.INIT_VALUE))
      {
        c.takeButton.setDisable(false);
        c.takeButton.setOnMouseClicked(((x$5: javafx.scene.input.MouseEvent) =&gt; {
          val retrieve: cml.model.dynamic_model.RetrieveResource = cml.model.dynamic_model.RetrieveResource.apply(s);
          {
            &lt;artifact&gt; val qual$5: akka.actor.ScalaActorSelection = actor.this.ActorSelection.toScala(Handler.this.villageActor);
            &lt;artifact&gt; val x$15: cml.controller.messages.VillageRequest.UpdateVillage = cml.controller.messages.VillageRequest.UpdateVillage.apply(retrieve.resourceJson);
            &lt;artifact&gt; val x$16: akka.actor.ActorRef = qual$5.!$default$2(x$15);
            qual$5.!(x$15)(x$16)
          };
          c.takeButton.setDisable(true);
          c.selectionInfo.setText(Handler.this.displayText(Handler.this.getClassName(s), s.level, s.resource.amount, s.creatures))
        }))
      }
    else
      ()
  }
        </td>
      </tr><tr>
        <td>
          73
        </td>
        <td>
          618
        </td>
        <td>
          2356
          -
          2360
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #F0ADAD">
          null
        </td>
      </tr><tr>
        <td>
          73
        </td>
        <td>
          620
        </td>
        <td>
          2341
          -
          2383
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Boolean.&amp;&amp;
        </td>
        <td style="background: #F0ADAD">
          s.creatures.!=(null).&amp;&amp;(s.creatures.isEmpty)
        </td>
      </tr><tr>
        <td>
          73
        </td>
        <td>
          643
        </td>
        <td>
          2385
          -
          2911
        </td>
        <td>
          Block
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #F0ADAD">
          {
  c.addCreatureButton.setDisable(false);
  c.selectionInfo.setText(&quot;Structure: &quot;.+(Handler.this.getClassName(s)));
  c.addCreatureButton.setOnMouseClicked(((x$3: javafx.scene.input.MouseEvent) =&gt; {
    val creature: cml.model.static_model.StaticCreatures = cml.model.static_model.StaticCreatures.apply(s);
    s.addCreature(creature.getCreature);
    {
      &lt;artifact&gt; val qual$1: akka.actor.ScalaActorSelection = actor.this.ActorSelection.toScala(Handler.this.villageActor);
      &lt;artifact&gt; val x$7: cml.controller.messages.VillageRequest.UpdateVillage = cml.controller.messages.VillageRequest.UpdateVillage.apply(creature.json);
      &lt;artifact&gt; val x$8: akka.actor.ActorRef = qual$1.!$default$2(x$7);
      qual$1.!(x$7)(x$8)
    };
    c.addCreatureButton.setDisable(true);
    c.selectionInfo.setText(Handler.this.displayText(Handler.this.getClassName(s), s.level, s.resource.amount, s.creatures))
  }))
}
        </td>
      </tr><tr>
        <td>
          73
        </td>
        <td>
          619
        </td>
        <td>
          2364
          -
          2383
        </td>
        <td>
          Select
        </td>
        <td>
          scala.collection.mutable.MutableList.isEmpty
        </td>
        <td style="background: #F0ADAD">
          s.creatures.isEmpty
        </td>
      </tr><tr>
        <td>
          74
        </td>
        <td>
          621
        </td>
        <td>
          2400
          -
          2436
        </td>
        <td>
          Apply
        </td>
        <td>
          javafx.scene.Node.setDisable
        </td>
        <td style="background: #F0ADAD">
          c.addCreatureButton.setDisable(false)
        </td>
      </tr><tr>
        <td>
          75
        </td>
        <td>
          624
        </td>
        <td>
          2474
          -
          2505
        </td>
        <td>
          Apply
        </td>
        <td>
          java.lang.String.+
        </td>
        <td style="background: #F0ADAD">
          &quot;Structure: &quot;.+(Handler.this.getClassName(s))
        </td>
      </tr><tr>
        <td>
          75
        </td>
        <td>
          623
        </td>
        <td>
          2490
          -
          2505
        </td>
        <td>
          Apply
        </td>
        <td>
          cml.view.Handler.getClassName
        </td>
        <td style="background: #F0ADAD">
          Handler.this.getClassName(s)
        </td>
      </tr><tr>
        <td>
          75
        </td>
        <td>
          622
        </td>
        <td>
          2474
          -
          2487
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #F0ADAD">
          &quot;Structure: &quot;
        </td>
      </tr><tr>
        <td>
          75
        </td>
        <td>
          625
        </td>
        <td>
          2450
          -
          2505
        </td>
        <td>
          Apply
        </td>
        <td>
          javafx.scene.control.TextInputControl.setText
        </td>
        <td style="background: #F0ADAD">
          c.selectionInfo.setText(&quot;Structure: &quot;.+(Handler.this.getClassName(s)))
        </td>
      </tr><tr>
        <td>
          76
        </td>
        <td>
          642
        </td>
        <td>
          2519
          -
          2898
        </td>
        <td>
          Apply
        </td>
        <td>
          javafx.scene.Node.setOnMouseClicked
        </td>
        <td style="background: #F0ADAD">
          c.addCreatureButton.setOnMouseClicked(((x$3: javafx.scene.input.MouseEvent) =&gt; {
  val creature: cml.model.static_model.StaticCreatures = cml.model.static_model.StaticCreatures.apply(s);
  s.addCreature(creature.getCreature);
  {
    &lt;artifact&gt; val qual$1: akka.actor.ScalaActorSelection = actor.this.ActorSelection.toScala(Handler.this.villageActor);
    &lt;artifact&gt; val x$7: cml.controller.messages.VillageRequest.UpdateVillage = cml.controller.messages.VillageRequest.UpdateVillage.apply(creature.json);
    &lt;artifact&gt; val x$8: akka.actor.ActorRef = qual$1.!$default$2(x$7);
    qual$1.!(x$7)(x$8)
  };
  c.addCreatureButton.setDisable(true);
  c.selectionInfo.setText(Handler.this.displayText(Handler.this.getClassName(s), s.level, s.resource.amount, s.creatures))
}))
        </td>
      </tr><tr>
        <td>
          77
        </td>
        <td>
          626
        </td>
        <td>
          2594
          -
          2612
        </td>
        <td>
          Apply
        </td>
        <td>
          cml.model.static_model.StaticCreatures.apply
        </td>
        <td style="background: #F0ADAD">
          cml.model.static_model.StaticCreatures.apply(s)
        </td>
      </tr><tr>
        <td>
          78
        </td>
        <td>
          627
        </td>
        <td>
          2642
          -
          2662
        </td>
        <td>
          PostfixSelect
        </td>
        <td>
          cml.model.static_model.StaticCreatures.getCreature
        </td>
        <td style="background: #F0ADAD">
          creature.getCreature
        </td>
      </tr><tr>
        <td>
          78
        </td>
        <td>
          628
        </td>
        <td>
          2628
          -
          2663
        </td>
        <td>
          Apply
        </td>
        <td>
          cml.model.base.Structure.addCreature
        </td>
        <td style="background: #F0ADAD">
          s.addCreature(creature.getCreature)
        </td>
      </tr><tr>
        <td>
          79
        </td>
        <td>
          630
        </td>
        <td>
          2679
          -
          2691
        </td>
        <td>
          ApplyImplicitView
        </td>
        <td>
          akka.actor.ActorSelection.toScala
        </td>
        <td style="background: #F0ADAD">
          actor.this.ActorSelection.toScala(Handler.this.villageActor)
        </td>
      </tr><tr>
        <td>
          79
        </td>
        <td>
          633
        </td>
        <td>
          2692
          -
          2692
        </td>
        <td>
          Apply
        </td>
        <td>
          akka.actor.ScalaActorSelection.!$default$2
        </td>
        <td style="background: #F0ADAD">
          qual$1.!$default$2(x$7)
        </td>
      </tr><tr>
        <td>
          79
        </td>
        <td>
          632
        </td>
        <td>
          2694
          -
          2722
        </td>
        <td>
          Apply
        </td>
        <td>
          cml.controller.messages.VillageRequest.UpdateVillage.apply
        </td>
        <td style="background: #F0ADAD">
          cml.controller.messages.VillageRequest.UpdateVillage.apply(creature.json)
        </td>
      </tr><tr>
        <td>
          79
        </td>
        <td>
          629
        </td>
        <td>
          2679
          -
          2691
        </td>
        <td>
          Select
        </td>
        <td>
          cml.view.Handler.villageActor
        </td>
        <td style="background: #F0ADAD">
          Handler.this.villageActor
        </td>
      </tr><tr>
        <td>
          79
        </td>
        <td>
          631
        </td>
        <td>
          2708
          -
          2721
        </td>
        <td>
          PostfixSelect
        </td>
        <td>
          cml.model.static_model.StaticCreatures.json
        </td>
        <td style="background: #F0ADAD">
          creature.json
        </td>
      </tr><tr>
        <td>
          79
        </td>
        <td>
          634
        </td>
        <td>
          2679
          -
          2722
        </td>
        <td>
          ApplyToImplicitArgs
        </td>
        <td>
          akka.actor.ScalaActorSelection.!
        </td>
        <td style="background: #F0ADAD">
          qual$1.!(x$7)(x$8)
        </td>
      </tr><tr>
        <td>
          80
        </td>
        <td>
          635
        </td>
        <td>
          2738
          -
          2773
        </td>
        <td>
          Apply
        </td>
        <td>
          javafx.scene.Node.setDisable
        </td>
        <td style="background: #F0ADAD">
          c.addCreatureButton.setDisable(true)
        </td>
      </tr><tr>
        <td>
          81
        </td>
        <td>
          636
        </td>
        <td>
          2825
          -
          2840
        </td>
        <td>
          Apply
        </td>
        <td>
          cml.view.Handler.getClassName
        </td>
        <td style="background: #F0ADAD">
          Handler.this.getClassName(s)
        </td>
      </tr><tr>
        <td>
          81
        </td>
        <td>
          639
        </td>
        <td>
          2870
          -
          2881
        </td>
        <td>
          Select
        </td>
        <td>
          cml.model.base.Structure.creatures
        </td>
        <td style="background: #F0ADAD">
          s.creatures
        </td>
      </tr><tr>
        <td>
          81
        </td>
        <td>
          641
        </td>
        <td>
          2789
          -
          2882
        </td>
        <td>
          Apply
        </td>
        <td>
          javafx.scene.control.TextInputControl.setText
        </td>
        <td style="background: #F0ADAD">
          c.selectionInfo.setText(Handler.this.displayText(Handler.this.getClassName(s), s.level, s.resource.amount, s.creatures))
        </td>
      </tr><tr>
        <td>
          81
        </td>
        <td>
          638
        </td>
        <td>
          2851
          -
          2868
        </td>
        <td>
          Select
        </td>
        <td>
          cml.model.base.Resource.amount
        </td>
        <td style="background: #F0ADAD">
          s.resource.amount
        </td>
      </tr><tr>
        <td>
          81
        </td>
        <td>
          640
        </td>
        <td>
          2813
          -
          2882
        </td>
        <td>
          Apply
        </td>
        <td>
          cml.view.Handler.displayText
        </td>
        <td style="background: #F0ADAD">
          Handler.this.displayText(Handler.this.getClassName(s), s.level, s.resource.amount, s.creatures)
        </td>
      </tr><tr>
        <td>
          81
        </td>
        <td>
          637
        </td>
        <td>
          2842
          -
          2849
        </td>
        <td>
          Select
        </td>
        <td>
          cml.model.base.Structure.level
        </td>
        <td style="background: #F0ADAD">
          s.level
        </td>
      </tr><tr>
        <td>
          83
        </td>
        <td>
          704
        </td>
        <td>
          2917
          -
          4358
        </td>
        <td>
          Block
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #F0ADAD">
          {
  c.levelUpButton.setDisable(false);
  c.levelUpButton.setOnMouseClicked(((x$4: javafx.scene.input.MouseEvent) =&gt; {
    val upgrade: cml.model.dynamic_model.StructureUpgrade = cml.model.dynamic_model.StructureUpgrade.apply(s);
    {
      &lt;artifact&gt; val qual$2: akka.actor.ScalaActorSelection = actor.this.ActorSelection.toScala(Handler.this.villageActor);
      &lt;artifact&gt; val x$9: cml.controller.messages.VillageRequest.UpdateVillage = cml.controller.messages.VillageRequest.UpdateVillage.apply(upgrade.structureJson);
      &lt;artifact&gt; val x$10: akka.actor.ActorRef = qual$2.!$default$2(x$9);
      qual$2.!(x$9)(x$10)
    };
    upgrade.creatureJson match {
      case null =&gt; scala.Predef.println(&quot;Not an habitat&quot;)
      case _ =&gt; {
        &lt;artifact&gt; val qual$3: akka.actor.ScalaActorSelection = actor.this.ActorSelection.toScala(Handler.this.villageActor);
        &lt;artifact&gt; val x$11: cml.controller.messages.VillageRequest.UpdateVillage = cml.controller.messages.VillageRequest.UpdateVillage.apply(upgrade.creatureJson);
        &lt;artifact&gt; val x$12: akka.actor.ActorRef = qual$3.!$default$2(x$11);
        qual$3.!(x$11)(x$12)
      }
    };
    val resourceJson: play.api.libs.json.JsValue = cml.utils.MoneyJson.apply(cml.utils.ModelConfig.Resource.INIT_VALUE.-(Handler.this.price)).json;
    {
      &lt;artifact&gt; val qual$4: akka.actor.ScalaActorSelection = actor.this.ActorSelection.toScala(Handler.this.villageActor);
      &lt;artifact&gt; val x$13: cml.controller.messages.VillageRequest.UpdateVillage = cml.controller.messages.VillageRequest.UpdateVillage.apply(resourceJson);
      &lt;artifact&gt; val x$14: akka.actor.ActorRef = qual$4.!$default$2(x$13);
      qual$4.!(x$13)(x$14)
    };
    c.selectionInfo.setText(Handler.this.displayText(Handler.this.getClassName(s), s.level, s.resource.amount, s.creatures))
  }));
  s.resource.inc(s.level);
  c.selectionInfo.setText(Handler.this.displayText(Handler.this.getClassName(s), s.level, s.resource.amount, s.creatures));
  if (s.resource.amount.&gt;(cml.utils.ModelConfig.Resource.INIT_VALUE))
    {
      c.takeButton.setDisable(false);
      c.takeButton.setOnMouseClicked(((x$5: javafx.scene.input.MouseEvent) =&gt; {
        val retrieve: cml.model.dynamic_model.RetrieveResource = cml.model.dynamic_model.RetrieveResource.apply(s);
        {
          &lt;artifact&gt; val qual$5: akka.actor.ScalaActorSelection = actor.this.ActorSelection.toScala(Handler.this.villageActor);
          &lt;artifact&gt; val x$15: cml.controller.messages.VillageRequest.UpdateVillage = cml.controller.messages.VillageRequest.UpdateVillage.apply(retrieve.resourceJson);
          &lt;artifact&gt; val x$16: akka.actor.ActorRef = qual$5.!$default$2(x$15);
          qual$5.!(x$15)(x$16)
        };
        c.takeButton.setDisable(true);
        c.selectionInfo.setText(Handler.this.displayText(Handler.this.getClassName(s), s.level, s.resource.amount, s.creatures))
      }))
    }
  else
    ()
}
        </td>
      </tr><tr>
        <td>
          84
        </td>
        <td>
          644
        </td>
        <td>
          2932
          -
          2964
        </td>
        <td>
          Apply
        </td>
        <td>
          javafx.scene.Node.setDisable
        </td>
        <td style="background: #F0ADAD">
          c.levelUpButton.setDisable(false)
        </td>
      </tr><tr>
        <td>
          85
        </td>
        <td>
          674
        </td>
        <td>
          3009
          -
          3700
        </td>
        <td>
          Apply
        </td>
        <td>
          javafx.scene.Node.setOnMouseClicked
        </td>
        <td style="background: #F0ADAD">
          c.levelUpButton.setOnMouseClicked(((x$4: javafx.scene.input.MouseEvent) =&gt; {
  val upgrade: cml.model.dynamic_model.StructureUpgrade = cml.model.dynamic_model.StructureUpgrade.apply(s);
  {
    &lt;artifact&gt; val qual$2: akka.actor.ScalaActorSelection = actor.this.ActorSelection.toScala(Handler.this.villageActor);
    &lt;artifact&gt; val x$9: cml.controller.messages.VillageRequest.UpdateVillage = cml.controller.messages.VillageRequest.UpdateVillage.apply(upgrade.structureJson);
    &lt;artifact&gt; val x$10: akka.actor.ActorRef = qual$2.!$default$2(x$9);
    qual$2.!(x$9)(x$10)
  };
  upgrade.creatureJson match {
    case null =&gt; scala.Predef.println(&quot;Not an habitat&quot;)
    case _ =&gt; {
      &lt;artifact&gt; val qual$3: akka.actor.ScalaActorSelection = actor.this.ActorSelection.toScala(Handler.this.villageActor);
      &lt;artifact&gt; val x$11: cml.controller.messages.VillageRequest.UpdateVillage = cml.controller.messages.VillageRequest.UpdateVillage.apply(upgrade.creatureJson);
      &lt;artifact&gt; val x$12: akka.actor.ActorRef = qual$3.!$default$2(x$11);
      qual$3.!(x$11)(x$12)
    }
  };
  val resourceJson: play.api.libs.json.JsValue = cml.utils.MoneyJson.apply(cml.utils.ModelConfig.Resource.INIT_VALUE.-(Handler.this.price)).json;
  {
    &lt;artifact&gt; val qual$4: akka.actor.ScalaActorSelection = actor.this.ActorSelection.toScala(Handler.this.villageActor);
    &lt;artifact&gt; val x$13: cml.controller.messages.VillageRequest.UpdateVillage = cml.controller.messages.VillageRequest.UpdateVillage.apply(resourceJson);
    &lt;artifact&gt; val x$14: akka.actor.ActorRef = qual$4.!$default$2(x$13);
    qual$4.!(x$13)(x$14)
  };
  c.selectionInfo.setText(Handler.this.displayText(Handler.this.getClassName(s), s.level, s.resource.amount, s.creatures))
}))
        </td>
      </tr><tr>
        <td>
          86
        </td>
        <td>
          645
        </td>
        <td>
          3080
          -
          3099
        </td>
        <td>
          Apply
        </td>
        <td>
          cml.model.dynamic_model.StructureUpgrade.apply
        </td>
        <td style="background: #F0ADAD">
          cml.model.dynamic_model.StructureUpgrade.apply(s)
        </td>
      </tr><tr>
        <td>
          87
        </td>
        <td>
          648
        </td>
        <td>
          3144
          -
          3165
        </td>
        <td>
          PostfixSelect
        </td>
        <td>
          cml.model.dynamic_model.StructureUpgrade.structureJson
        </td>
        <td style="background: #F0ADAD">
          upgrade.structureJson
        </td>
      </tr><tr>
        <td>
          87
        </td>
        <td>
          651
        </td>
        <td>
          3115
          -
          3166
        </td>
        <td>
          ApplyToImplicitArgs
        </td>
        <td>
          akka.actor.ScalaActorSelection.!
        </td>
        <td style="background: #F0ADAD">
          qual$2.!(x$9)(x$10)
        </td>
      </tr><tr>
        <td>
          87
        </td>
        <td>
          650
        </td>
        <td>
          3128
          -
          3128
        </td>
        <td>
          Apply
        </td>
        <td>
          akka.actor.ScalaActorSelection.!$default$2
        </td>
        <td style="background: #F0ADAD">
          qual$2.!$default$2(x$9)
        </td>
      </tr><tr>
        <td>
          87
        </td>
        <td>
          647
        </td>
        <td>
          3115
          -
          3127
        </td>
        <td>
          ApplyImplicitView
        </td>
        <td>
          akka.actor.ActorSelection.toScala
        </td>
        <td style="background: #F0ADAD">
          actor.this.ActorSelection.toScala(Handler.this.villageActor)
        </td>
      </tr><tr>
        <td>
          87
        </td>
        <td>
          646
        </td>
        <td>
          3115
          -
          3127
        </td>
        <td>
          Select
        </td>
        <td>
          cml.view.Handler.villageActor
        </td>
        <td style="background: #F0ADAD">
          Handler.this.villageActor
        </td>
      </tr><tr>
        <td>
          87
        </td>
        <td>
          649
        </td>
        <td>
          3130
          -
          3166
        </td>
        <td>
          Apply
        </td>
        <td>
          cml.controller.messages.VillageRequest.UpdateVillage.apply
        </td>
        <td style="background: #F0ADAD">
          cml.controller.messages.VillageRequest.UpdateVillage.apply(upgrade.structureJson)
        </td>
      </tr><tr>
        <td>
          88
        </td>
        <td>
          652
        </td>
        <td>
          3182
          -
          3202
        </td>
        <td>
          PostfixSelect
        </td>
        <td>
          cml.model.dynamic_model.StructureUpgrade.creatureJson
        </td>
        <td style="background: #F0ADAD">
          upgrade.creatureJson
        </td>
      </tr><tr>
        <td>
          89
        </td>
        <td>
          653
        </td>
        <td>
          3241
          -
          3266
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Predef.println
        </td>
        <td style="background: #F0ADAD">
          scala.Predef.println(&quot;Not an habitat&quot;)
        </td>
      </tr><tr>
        <td>
          90
        </td>
        <td>
          654
        </td>
        <td>
          3294
          -
          3306
        </td>
        <td>
          Select
        </td>
        <td>
          cml.view.Handler.villageActor
        </td>
        <td style="background: #F0ADAD">
          Handler.this.villageActor
        </td>
      </tr><tr>
        <td>
          90
        </td>
        <td>
          657
        </td>
        <td>
          3309
          -
          3344
        </td>
        <td>
          Apply
        </td>
        <td>
          cml.controller.messages.VillageRequest.UpdateVillage.apply
        </td>
        <td style="background: #F0ADAD">
          cml.controller.messages.VillageRequest.UpdateVillage.apply(upgrade.creatureJson)
        </td>
      </tr><tr>
        <td>
          90
        </td>
        <td>
          659
        </td>
        <td>
          3294
          -
          3344
        </td>
        <td>
          ApplyToImplicitArgs
        </td>
        <td>
          akka.actor.ScalaActorSelection.!
        </td>
        <td style="background: #F0ADAD">
          qual$3.!(x$11)(x$12)
        </td>
      </tr><tr>
        <td>
          90
        </td>
        <td>
          656
        </td>
        <td>
          3323
          -
          3343
        </td>
        <td>
          PostfixSelect
        </td>
        <td>
          cml.model.dynamic_model.StructureUpgrade.creatureJson
        </td>
        <td style="background: #F0ADAD">
          upgrade.creatureJson
        </td>
      </tr><tr>
        <td>
          90
        </td>
        <td>
          655
        </td>
        <td>
          3294
          -
          3306
        </td>
        <td>
          ApplyImplicitView
        </td>
        <td>
          akka.actor.ActorSelection.toScala
        </td>
        <td style="background: #F0ADAD">
          actor.this.ActorSelection.toScala(Handler.this.villageActor)
        </td>
      </tr><tr>
        <td>
          90
        </td>
        <td>
          658
        </td>
        <td>
          3307
          -
          3307
        </td>
        <td>
          Apply
        </td>
        <td>
          akka.actor.ScalaActorSelection.!$default$2
        </td>
        <td style="background: #F0ADAD">
          qual$3.!$default$2(x$11)
        </td>
      </tr><tr>
        <td>
          93
        </td>
        <td>
          660
        </td>
        <td>
          3504
          -
          3509
        </td>
        <td>
          Select
        </td>
        <td>
          cml.view.Handler.price
        </td>
        <td style="background: #F0ADAD">
          Handler.this.price
        </td>
      </tr><tr>
        <td>
          93
        </td>
        <td>
          662
        </td>
        <td>
          3481
          -
          3515
        </td>
        <td>
          Select
        </td>
        <td>
          cml.utils.MoneyJson.json
        </td>
        <td style="background: #F0ADAD">
          cml.utils.MoneyJson.apply(cml.utils.ModelConfig.Resource.INIT_VALUE.-(Handler.this.price)).json
        </td>
      </tr><tr>
        <td>
          93
        </td>
        <td>
          661
        </td>
        <td>
          3491
          -
          3509
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Int.-
        </td>
        <td style="background: #F0ADAD">
          cml.utils.ModelConfig.Resource.INIT_VALUE.-(Handler.this.price)
        </td>
      </tr><tr>
        <td>
          94
        </td>
        <td>
          663
        </td>
        <td>
          3531
          -
          3543
        </td>
        <td>
          Select
        </td>
        <td>
          cml.view.Handler.villageActor
        </td>
        <td style="background: #F0ADAD">
          Handler.this.villageActor
        </td>
      </tr><tr>
        <td>
          94
        </td>
        <td>
          666
        </td>
        <td>
          3544
          -
          3544
        </td>
        <td>
          Apply
        </td>
        <td>
          akka.actor.ScalaActorSelection.!$default$2
        </td>
        <td style="background: #F0ADAD">
          qual$4.!$default$2(x$13)
        </td>
      </tr><tr>
        <td>
          94
        </td>
        <td>
          665
        </td>
        <td>
          3546
          -
          3573
        </td>
        <td>
          Apply
        </td>
        <td>
          cml.controller.messages.VillageRequest.UpdateVillage.apply
        </td>
        <td style="background: #F0ADAD">
          cml.controller.messages.VillageRequest.UpdateVillage.apply(resourceJson)
        </td>
      </tr><tr>
        <td>
          94
        </td>
        <td>
          664
        </td>
        <td>
          3531
          -
          3543
        </td>
        <td>
          ApplyImplicitView
        </td>
        <td>
          akka.actor.ActorSelection.toScala
        </td>
        <td style="background: #F0ADAD">
          actor.this.ActorSelection.toScala(Handler.this.villageActor)
        </td>
      </tr><tr>
        <td>
          94
        </td>
        <td>
          667
        </td>
        <td>
          3531
          -
          3573
        </td>
        <td>
          ApplyToImplicitArgs
        </td>
        <td>
          akka.actor.ScalaActorSelection.!
        </td>
        <td style="background: #F0ADAD">
          qual$4.!(x$13)(x$14)
        </td>
      </tr><tr>
        <td>
          96
        </td>
        <td>
          669
        </td>
        <td>
          3644
          -
          3651
        </td>
        <td>
          Select
        </td>
        <td>
          cml.model.base.Structure.level
        </td>
        <td style="background: #F0ADAD">
          s.level
        </td>
      </tr><tr>
        <td>
          96
        </td>
        <td>
          672
        </td>
        <td>
          3615
          -
          3684
        </td>
        <td>
          Apply
        </td>
        <td>
          cml.view.Handler.displayText
        </td>
        <td style="background: #F0ADAD">
          Handler.this.displayText(Handler.this.getClassName(s), s.level, s.resource.amount, s.creatures)
        </td>
      </tr><tr>
        <td>
          96
        </td>
        <td>
          668
        </td>
        <td>
          3627
          -
          3642
        </td>
        <td>
          Apply
        </td>
        <td>
          cml.view.Handler.getClassName
        </td>
        <td style="background: #F0ADAD">
          Handler.this.getClassName(s)
        </td>
      </tr><tr>
        <td>
          96
        </td>
        <td>
          671
        </td>
        <td>
          3672
          -
          3683
        </td>
        <td>
          Select
        </td>
        <td>
          cml.model.base.Structure.creatures
        </td>
        <td style="background: #F0ADAD">
          s.creatures
        </td>
      </tr><tr>
        <td>
          96
        </td>
        <td>
          673
        </td>
        <td>
          3591
          -
          3684
        </td>
        <td>
          Apply
        </td>
        <td>
          javafx.scene.control.TextInputControl.setText
        </td>
        <td style="background: #F0ADAD">
          c.selectionInfo.setText(Handler.this.displayText(Handler.this.getClassName(s), s.level, s.resource.amount, s.creatures))
        </td>
      </tr><tr>
        <td>
          96
        </td>
        <td>
          670
        </td>
        <td>
          3653
          -
          3670
        </td>
        <td>
          Select
        </td>
        <td>
          cml.model.base.Resource.amount
        </td>
        <td style="background: #F0ADAD">
          s.resource.amount
        </td>
      </tr><tr>
        <td>
          99
        </td>
        <td>
          675
        </td>
        <td>
          3731
          -
          3738
        </td>
        <td>
          Select
        </td>
        <td>
          cml.model.base.Structure.level
        </td>
        <td style="background: #F0ADAD">
          s.level
        </td>
      </tr><tr>
        <td>
          99
        </td>
        <td>
          676
        </td>
        <td>
          3716
          -
          3739
        </td>
        <td>
          Apply
        </td>
        <td>
          cml.model.base.Resource.inc
        </td>
        <td style="background: #F0ADAD">
          s.resource.inc(s.level)
        </td>
      </tr><tr>
        <td>
          100
        </td>
        <td>
          678
        </td>
        <td>
          3814
          -
          3821
        </td>
        <td>
          Select
        </td>
        <td>
          cml.model.base.Structure.level
        </td>
        <td style="background: #F0ADAD">
          s.level
        </td>
      </tr><tr>
        <td>
          100
        </td>
        <td>
          681
        </td>
        <td>
          3785
          -
          3854
        </td>
        <td>
          Apply
        </td>
        <td>
          cml.view.Handler.displayText
        </td>
        <td style="background: #F0ADAD">
          Handler.this.displayText(Handler.this.getClassName(s), s.level, s.resource.amount, s.creatures)
        </td>
      </tr><tr>
        <td>
          100
        </td>
        <td>
          677
        </td>
        <td>
          3797
          -
          3812
        </td>
        <td>
          Apply
        </td>
        <td>
          cml.view.Handler.getClassName
        </td>
        <td style="background: #F0ADAD">
          Handler.this.getClassName(s)
        </td>
      </tr><tr>
        <td>
          100
        </td>
        <td>
          680
        </td>
        <td>
          3842
          -
          3853
        </td>
        <td>
          Select
        </td>
        <td>
          cml.model.base.Structure.creatures
        </td>
        <td style="background: #F0ADAD">
          s.creatures
        </td>
      </tr><tr>
        <td>
          100
        </td>
        <td>
          682
        </td>
        <td>
          3761
          -
          3854
        </td>
        <td>
          Apply
        </td>
        <td>
          javafx.scene.control.TextInputControl.setText
        </td>
        <td style="background: #F0ADAD">
          c.selectionInfo.setText(Handler.this.displayText(Handler.this.getClassName(s), s.level, s.resource.amount, s.creatures))
        </td>
      </tr><tr>
        <td>
          100
        </td>
        <td>
          679
        </td>
        <td>
          3823
          -
          3840
        </td>
        <td>
          Select
        </td>
        <td>
          cml.model.base.Resource.amount
        </td>
        <td style="background: #F0ADAD">
          s.resource.amount
        </td>
      </tr><tr>
        <td>
          102
        </td>
        <td>
          702
        </td>
        <td>
          3870
          -
          3870
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #F0ADAD">
          ()
        </td>
      </tr><tr>
        <td>
          102
        </td>
        <td>
          684
        </td>
        <td>
          3874
          -
          3904
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Int.&gt;
        </td>
        <td style="background: #F0ADAD">
          s.resource.amount.&gt;(cml.utils.ModelConfig.Resource.INIT_VALUE)
        </td>
      </tr><tr>
        <td>
          102
        </td>
        <td>
          683
        </td>
        <td>
          3894
          -
          3904
        </td>
        <td>
          Select
        </td>
        <td>
          cml.utils.ModelConfig.Resource.INIT_VALUE
        </td>
        <td style="background: #F0ADAD">
          cml.utils.ModelConfig.Resource.INIT_VALUE
        </td>
      </tr><tr>
        <td>
          102
        </td>
        <td>
          701
        </td>
        <td>
          3906
          -
          4345
        </td>
        <td>
          Block
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #F0ADAD">
          {
  c.takeButton.setDisable(false);
  c.takeButton.setOnMouseClicked(((x$5: javafx.scene.input.MouseEvent) =&gt; {
    val retrieve: cml.model.dynamic_model.RetrieveResource = cml.model.dynamic_model.RetrieveResource.apply(s);
    {
      &lt;artifact&gt; val qual$5: akka.actor.ScalaActorSelection = actor.this.ActorSelection.toScala(Handler.this.villageActor);
      &lt;artifact&gt; val x$15: cml.controller.messages.VillageRequest.UpdateVillage = cml.controller.messages.VillageRequest.UpdateVillage.apply(retrieve.resourceJson);
      &lt;artifact&gt; val x$16: akka.actor.ActorRef = qual$5.!$default$2(x$15);
      qual$5.!(x$15)(x$16)
    };
    c.takeButton.setDisable(true);
    c.selectionInfo.setText(Handler.this.displayText(Handler.this.getClassName(s), s.level, s.resource.amount, s.creatures))
  }))
}
        </td>
      </tr><tr>
        <td>
          102
        </td>
        <td>
          703
        </td>
        <td>
          3870
          -
          3870
        </td>
        <td>
          Block
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #F0ADAD">
          ()
        </td>
      </tr><tr>
        <td>
          103
        </td>
        <td>
          685
        </td>
        <td>
          3951
          -
          3980
        </td>
        <td>
          Apply
        </td>
        <td>
          javafx.scene.Node.setDisable
        </td>
        <td style="background: #F0ADAD">
          c.takeButton.setDisable(false)
        </td>
      </tr><tr>
        <td>
          104
        </td>
        <td>
          700
        </td>
        <td>
          3996
          -
          4330
        </td>
        <td>
          Apply
        </td>
        <td>
          javafx.scene.Node.setOnMouseClicked
        </td>
        <td style="background: #F0ADAD">
          c.takeButton.setOnMouseClicked(((x$5: javafx.scene.input.MouseEvent) =&gt; {
  val retrieve: cml.model.dynamic_model.RetrieveResource = cml.model.dynamic_model.RetrieveResource.apply(s);
  {
    &lt;artifact&gt; val qual$5: akka.actor.ScalaActorSelection = actor.this.ActorSelection.toScala(Handler.this.villageActor);
    &lt;artifact&gt; val x$15: cml.controller.messages.VillageRequest.UpdateVillage = cml.controller.messages.VillageRequest.UpdateVillage.apply(retrieve.resourceJson);
    &lt;artifact&gt; val x$16: akka.actor.ActorRef = qual$5.!$default$2(x$15);
    qual$5.!(x$15)(x$16)
  };
  c.takeButton.setDisable(true);
  c.selectionInfo.setText(Handler.this.displayText(Handler.this.getClassName(s), s.level, s.resource.amount, s.creatures))
}))
        </td>
      </tr><tr>
        <td>
          105
        </td>
        <td>
          686
        </td>
        <td>
          4067
          -
          4086
        </td>
        <td>
          Apply
        </td>
        <td>
          cml.model.dynamic_model.RetrieveResource.apply
        </td>
        <td style="background: #F0ADAD">
          cml.model.dynamic_model.RetrieveResource.apply(s)
        </td>
      </tr><tr>
        <td>
          106
        </td>
        <td>
          687
        </td>
        <td>
          4104
          -
          4116
        </td>
        <td>
          Select
        </td>
        <td>
          cml.view.Handler.villageActor
        </td>
        <td style="background: #F0ADAD">
          Handler.this.villageActor
        </td>
      </tr><tr>
        <td>
          106
        </td>
        <td>
          690
        </td>
        <td>
          4119
          -
          4155
        </td>
        <td>
          Apply
        </td>
        <td>
          cml.controller.messages.VillageRequest.UpdateVillage.apply
        </td>
        <td style="background: #F0ADAD">
          cml.controller.messages.VillageRequest.UpdateVillage.apply(retrieve.resourceJson)
        </td>
      </tr><tr>
        <td>
          106
        </td>
        <td>
          692
        </td>
        <td>
          4104
          -
          4155
        </td>
        <td>
          ApplyToImplicitArgs
        </td>
        <td>
          akka.actor.ScalaActorSelection.!
        </td>
        <td style="background: #F0ADAD">
          qual$5.!(x$15)(x$16)
        </td>
      </tr><tr>
        <td>
          106
        </td>
        <td>
          689
        </td>
        <td>
          4133
          -
          4154
        </td>
        <td>
          PostfixSelect
        </td>
        <td>
          cml.model.dynamic_model.RetrieveResource.resourceJson
        </td>
        <td style="background: #F0ADAD">
          retrieve.resourceJson
        </td>
      </tr><tr>
        <td>
          106
        </td>
        <td>
          691
        </td>
        <td>
          4117
          -
          4117
        </td>
        <td>
          Apply
        </td>
        <td>
          akka.actor.ScalaActorSelection.!$default$2
        </td>
        <td style="background: #F0ADAD">
          qual$5.!$default$2(x$15)
        </td>
      </tr><tr>
        <td>
          106
        </td>
        <td>
          688
        </td>
        <td>
          4104
          -
          4116
        </td>
        <td>
          ApplyImplicitView
        </td>
        <td>
          akka.actor.ActorSelection.toScala
        </td>
        <td style="background: #F0ADAD">
          actor.this.ActorSelection.toScala(Handler.this.villageActor)
        </td>
      </tr><tr>
        <td>
          107
        </td>
        <td>
          693
        </td>
        <td>
          4173
          -
          4201
        </td>
        <td>
          Apply
        </td>
        <td>
          javafx.scene.Node.setDisable
        </td>
        <td style="background: #F0ADAD">
          c.takeButton.setDisable(true)
        </td>
      </tr><tr>
        <td>
          108
        </td>
        <td>
          696
        </td>
        <td>
          4281
          -
          4298
        </td>
        <td>
          Select
        </td>
        <td>
          cml.model.base.Resource.amount
        </td>
        <td style="background: #F0ADAD">
          s.resource.amount
        </td>
      </tr><tr>
        <td>
          108
        </td>
        <td>
          699
        </td>
        <td>
          4219
          -
          4312
        </td>
        <td>
          Apply
        </td>
        <td>
          javafx.scene.control.TextInputControl.setText
        </td>
        <td style="background: #F0ADAD">
          c.selectionInfo.setText(Handler.this.displayText(Handler.this.getClassName(s), s.level, s.resource.amount, s.creatures))
        </td>
      </tr><tr>
        <td>
          108
        </td>
        <td>
          695
        </td>
        <td>
          4272
          -
          4279
        </td>
        <td>
          Select
        </td>
        <td>
          cml.model.base.Structure.level
        </td>
        <td style="background: #F0ADAD">
          s.level
        </td>
      </tr><tr>
        <td>
          108
        </td>
        <td>
          698
        </td>
        <td>
          4243
          -
          4312
        </td>
        <td>
          Apply
        </td>
        <td>
          cml.view.Handler.displayText
        </td>
        <td style="background: #F0ADAD">
          Handler.this.displayText(Handler.this.getClassName(s), s.level, s.resource.amount, s.creatures)
        </td>
      </tr><tr>
        <td>
          108
        </td>
        <td>
          697
        </td>
        <td>
          4300
          -
          4311
        </td>
        <td>
          Select
        </td>
        <td>
          cml.model.base.Structure.creatures
        </td>
        <td style="background: #F0ADAD">
          s.creatures
        </td>
      </tr><tr>
        <td>
          108
        </td>
        <td>
          694
        </td>
        <td>
          4255
          -
          4270
        </td>
        <td>
          Apply
        </td>
        <td>
          cml.view.Handler.getClassName
        </td>
        <td style="background: #F0ADAD">
          Handler.this.getClassName(s)
        </td>
      </tr><tr>
        <td>
          118
        </td>
        <td>
          710
        </td>
        <td>
          4500
          -
          4513
        </td>
        <td>
          Select
        </td>
        <td>
          cml.view.BaseTile.imageSprite
        </td>
        <td style="background: #F0ADAD">
          t.imageSprite
        </td>
      </tr><tr>
        <td>
          119
        </td>
        <td>
          714
        </td>
        <td>
          4624
          -
          4629
        </td>
        <td>
          Select
        </td>
        <td>
          cml.view.Handler.price
        </td>
        <td style="background: #F0ADAD">
          Handler.this.price
        </td>
      </tr><tr>
        <td>
          119
        </td>
        <td>
          717
        </td>
        <td>
          4519
          -
          4630
        </td>
        <td>
          Apply
        </td>
        <td>
          javafx.scene.Node.setOnMouseClicked
        </td>
        <td style="background: #F0ADAD">
          canvas.setOnMouseClicked(((x$6: javafx.scene.input.MouseEvent) =&gt; c.selectionInfo.setText(&quot;Element selected: &quot;.+(t.description).+(&quot;\nPrice: &quot;).+(Handler.this.price))))
        </td>
      </tr><tr>
        <td>
          119
        </td>
        <td>
          711
        </td>
        <td>
          4574
          -
          4594
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #F0ADAD">
          &quot;Element selected: &quot;
        </td>
      </tr><tr>
        <td>
          119
        </td>
        <td>
          713
        </td>
        <td>
          4612
          -
          4623
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #F0ADAD">
          &quot;\nPrice: &quot;
        </td>
      </tr><tr>
        <td>
          119
        </td>
        <td>
          716
        </td>
        <td>
          4550
          -
          4629
        </td>
        <td>
          Apply
        </td>
        <td>
          javafx.scene.control.TextInputControl.setText
        </td>
        <td style="background: #F0ADAD">
          c.selectionInfo.setText(&quot;Element selected: &quot;.+(t.description).+(&quot;\nPrice: &quot;).+(Handler.this.price))
        </td>
      </tr><tr>
        <td>
          119
        </td>
        <td>
          715
        </td>
        <td>
          4574
          -
          4629
        </td>
        <td>
          Apply
        </td>
        <td>
          java.lang.String.+
        </td>
        <td style="background: #F0ADAD">
          &quot;Element selected: &quot;.+(t.description).+(&quot;\nPrice: &quot;).+(Handler.this.price)
        </td>
      </tr><tr>
        <td>
          119
        </td>
        <td>
          712
        </td>
        <td>
          4596
          -
          4609
        </td>
        <td>
          Select
        </td>
        <td>
          cml.view.BaseTile.description
        </td>
        <td style="background: #F0ADAD">
          t.description
        </td>
      </tr><tr>
        <td>
          120
        </td>
        <td>
          732
        </td>
        <td>
          4636
          -
          5100
        </td>
        <td>
          Apply
        </td>
        <td>
          javafx.scene.Node.setOnDragDetected
        </td>
        <td style="background: #F0ADAD">
          canvas.setOnDragDetected(((event: javafx.scene.input.MouseEvent) =&gt; {
  val dragBoard: javafx.scene.input.Dragboard = canvas.startDragAndDrop(COPY);
  val image: javafx.scene.image.WritableImage = canvas.snapshot(new javafx.scene.SnapshotParameters(), null);
  dragBoard.setDragView(image);
  val content: javafx.scene.input.ClipboardContent = new javafx.scene.input.ClipboardContent();
  content.putString(t.description);
  dragBoard.setContent(content);
  c.selectionInfo.setText(&quot;Dragged element &quot;.+(dragBoard.getString()));
  event.consume()
}))
        </td>
      </tr><tr>
        <td>
          121
        </td>
        <td>
          718
        </td>
        <td>
          4721
          -
          4762
        </td>
        <td>
          Apply
        </td>
        <td>
          javafx.scene.Node.startDragAndDrop
        </td>
        <td style="background: #F0ADAD">
          canvas.startDragAndDrop(COPY)
        </td>
      </tr><tr>
        <td>
          122
        </td>
        <td>
          720
        </td>
        <td>
          4822
          -
          4826
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #F0ADAD">
          null
        </td>
      </tr><tr>
        <td>
          122
        </td>
        <td>
          719
        </td>
        <td>
          4798
          -
          4820
        </td>
        <td>
          Apply
        </td>
        <td>
          javafx.scene.SnapshotParameters.&lt;init&gt;
        </td>
        <td style="background: #F0ADAD">
          new javafx.scene.SnapshotParameters()
        </td>
      </tr><tr>
        <td>
          122
        </td>
        <td>
          721
        </td>
        <td>
          4782
          -
          4827
        </td>
        <td>
          Apply
        </td>
        <td>
          javafx.scene.Node.snapshot
        </td>
        <td style="background: #F0ADAD">
          canvas.snapshot(new javafx.scene.SnapshotParameters(), null)
        </td>
      </tr><tr>
        <td>
          123
        </td>
        <td>
          722
        </td>
        <td>
          4835
          -
          4862
        </td>
        <td>
          Apply
        </td>
        <td>
          javafx.scene.input.Dragboard.setDragView
        </td>
        <td style="background: #F0ADAD">
          dragBoard.setDragView(image)
        </td>
      </tr><tr>
        <td>
          124
        </td>
        <td>
          723
        </td>
        <td>
          4902
          -
          4922
        </td>
        <td>
          Apply
        </td>
        <td>
          javafx.scene.input.ClipboardContent.&lt;init&gt;
        </td>
        <td style="background: #F0ADAD">
          new javafx.scene.input.ClipboardContent()
        </td>
      </tr><tr>
        <td>
          125
        </td>
        <td>
          725
        </td>
        <td>
          4930
          -
          4961
        </td>
        <td>
          Apply
        </td>
        <td>
          javafx.scene.input.ClipboardContent.putString
        </td>
        <td style="background: #F0ADAD">
          content.putString(t.description)
        </td>
      </tr><tr>
        <td>
          125
        </td>
        <td>
          724
        </td>
        <td>
          4948
          -
          4961
        </td>
        <td>
          Select
        </td>
        <td>
          cml.view.BaseTile.description
        </td>
        <td style="background: #F0ADAD">
          t.description
        </td>
      </tr><tr>
        <td>
          126
        </td>
        <td>
          726
        </td>
        <td>
          4969
          -
          4997
        </td>
        <td>
          Apply
        </td>
        <td>
          javafx.scene.input.Clipboard.setContent
        </td>
        <td style="background: #F0ADAD">
          dragBoard.setContent(content)
        </td>
      </tr><tr>
        <td>
          127
        </td>
        <td>
          729
        </td>
        <td>
          5029
          -
          5069
        </td>
        <td>
          Apply
        </td>
        <td>
          java.lang.String.+
        </td>
        <td style="background: #F0ADAD">
          &quot;Dragged element &quot;.+(dragBoard.getString())
        </td>
      </tr><tr>
        <td>
          127
        </td>
        <td>
          728
        </td>
        <td>
          5050
          -
          5069
        </td>
        <td>
          Apply
        </td>
        <td>
          javafx.scene.input.Clipboard.getString
        </td>
        <td style="background: #F0ADAD">
          dragBoard.getString()
        </td>
      </tr><tr>
        <td>
          127
        </td>
        <td>
          727
        </td>
        <td>
          5029
          -
          5047
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #F0ADAD">
          &quot;Dragged element &quot;
        </td>
      </tr><tr>
        <td>
          127
        </td>
        <td>
          730
        </td>
        <td>
          5005
          -
          5069
        </td>
        <td>
          Apply
        </td>
        <td>
          javafx.scene.control.TextInputControl.setText
        </td>
        <td style="background: #F0ADAD">
          c.selectionInfo.setText(&quot;Dragged element &quot;.+(dragBoard.getString()))
        </td>
      </tr><tr>
        <td>
          128
        </td>
        <td>
          731
        </td>
        <td>
          5077
          -
          5092
        </td>
        <td>
          Apply
        </td>
        <td>
          javafx.event.Event.consume
        </td>
        <td style="background: #F0ADAD">
          event.consume()
        </td>
      </tr><tr>
        <td>
          133
        </td>
        <td>
          735
        </td>
        <td>
          5201
          -
          5323
        </td>
        <td>
          Apply
        </td>
        <td>
          javafx.scene.Node.setOnDragOver
        </td>
        <td style="background: #F0ADAD">
          n.setOnDragOver(((event: javafx.scene.input.DragEvent) =&gt; {
  event.acceptTransferModes(COPY);
  event.consume()
}))
        </td>
      </tr><tr>
        <td>
          134
        </td>
        <td>
          733
        </td>
        <td>
          5249
          -
          5292
        </td>
        <td>
          Apply
        </td>
        <td>
          javafx.scene.input.DragEvent.acceptTransferModes
        </td>
        <td style="background: #F0ADAD">
          event.acceptTransferModes(COPY)
        </td>
      </tr><tr>
        <td>
          135
        </td>
        <td>
          734
        </td>
        <td>
          5300
          -
          5315
        </td>
        <td>
          Apply
        </td>
        <td>
          javafx.event.Event.consume
        </td>
        <td style="background: #F0ADAD">
          event.consume()
        </td>
      </tr><tr>
        <td>
          138
        </td>
        <td>
          769
        </td>
        <td>
          5331
          -
          6293
        </td>
        <td>
          Apply
        </td>
        <td>
          javafx.scene.Node.setOnDragDropped
        </td>
        <td style="background: #F0ADAD">
          n.setOnDragDropped(((event: javafx.scene.input.DragEvent) =&gt; {
  val dragBoard: javafx.scene.input.Dragboard = event.getDragboard();
  val newTile: cml.view.Tile = cml.view.utils.TileConfig.tileSet.filter(((t: cml.view.Tile) =&gt; t.description.equals(dragBoard.getString()))).head;
  n match {
    case (i @ (_: javafx.scene.image.ImageView)) =&gt; i.setImage(newTile.imageSprite.snapshot(new javafx.scene.SnapshotParameters(), null))
    case _ =&gt; throw new scala.`package`.ClassCastException()
  };
  val y: Integer = javafx.scene.layout.GridPane.getColumnIndex(n);
  val x: Integer = javafx.scene.layout.GridPane.getRowIndex(n);
  val structure: cml.model.static_model.StaticStructure = cml.model.static_model.StaticStructure.apply(newTile, scala.Predef.Integer2int(x), scala.Predef.Integer2int(y));
  val json: play.api.libs.json.JsValue = structure.json;
  Handler.this.village.structures.+=(structure.getStructure);
  {
    &lt;artifact&gt; val qual$6: akka.actor.ScalaActorSelection = actor.this.ActorSelection.toScala(Handler.this.villageActor);
    &lt;artifact&gt; val x$17: cml.controller.messages.VillageRequest.UpdateVillage = cml.controller.messages.VillageRequest.UpdateVillage.apply(json);
    &lt;artifact&gt; val x$18: akka.actor.ActorRef = qual$6.!$default$2(x$17);
    qual$6.!(x$17)(x$18)
  };
  val resourceJson: play.api.libs.json.JsValue = cml.utils.MoneyJson.apply(cml.utils.ModelConfig.Resource.INIT_VALUE.-(Handler.this.price)).json;
  {
    &lt;artifact&gt; val qual$7: akka.actor.ScalaActorSelection = actor.this.ActorSelection.toScala(Handler.this.villageActor);
    &lt;artifact&gt; val x$19: cml.controller.messages.VillageRequest.UpdateVillage = cml.controller.messages.VillageRequest.UpdateVillage.apply(resourceJson);
    &lt;artifact&gt; val x$20: akka.actor.ActorRef = qual$7.!$default$2(x$19);
    qual$7.!(x$19)(x$20)
  };
  c.selectionInfo.setText(&quot;Dropped element &quot;.+(dragBoard.getString()).+(&quot; in coordinates (&quot;).+(x).+(&quot; - &quot;).+(y).+(&quot;)&quot;));
  event.consume()
}))
        </td>
      </tr><tr>
        <td>
          139
        </td>
        <td>
          736
        </td>
        <td>
          5409
          -
          5429
        </td>
        <td>
          Apply
        </td>
        <td>
          javafx.scene.input.DragEvent.getDragboard
        </td>
        <td style="background: #F0ADAD">
          event.getDragboard()
        </td>
      </tr><tr>
        <td>
          140
        </td>
        <td>
          738
        </td>
        <td>
          5471
          -
          5512
        </td>
        <td>
          Apply
        </td>
        <td>
          java.lang.String.equals
        </td>
        <td style="background: #F0ADAD">
          t.description.equals(dragBoard.getString())
        </td>
      </tr><tr>
        <td>
          140
        </td>
        <td>
          737
        </td>
        <td>
          5492
          -
          5511
        </td>
        <td>
          Apply
        </td>
        <td>
          javafx.scene.input.Clipboard.getString
        </td>
        <td style="background: #F0ADAD">
          dragBoard.getString()
        </td>
      </tr><tr>
        <td>
          140
        </td>
        <td>
          739
        </td>
        <td>
          5451
          -
          5518
        </td>
        <td>
          Select
        </td>
        <td>
          scala.collection.IterableLike.head
        </td>
        <td style="background: #F0ADAD">
          cml.view.utils.TileConfig.tileSet.filter(((t: cml.view.Tile) =&gt; t.description.equals(dragBoard.getString()))).head
        </td>
      </tr><tr>
        <td>
          142
        </td>
        <td>
          741
        </td>
        <td>
          5630
          -
          5634
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #F0ADAD">
          null
        </td>
      </tr><tr>
        <td>
          142
        </td>
        <td>
          743
        </td>
        <td>
          5566
          -
          5635
        </td>
        <td>
          Apply
        </td>
        <td>
          javafx.scene.image.ImageView.setImage
        </td>
        <td style="background: #F0ADAD">
          i.setImage(newTile.imageSprite.snapshot(new javafx.scene.SnapshotParameters(), null))
        </td>
      </tr><tr>
        <td>
          142
        </td>
        <td>
          740
        </td>
        <td>
          5606
          -
          5628
        </td>
        <td>
          Apply
        </td>
        <td>
          javafx.scene.SnapshotParameters.&lt;init&gt;
        </td>
        <td style="background: #F0ADAD">
          new javafx.scene.SnapshotParameters()
        </td>
      </tr><tr>
        <td>
          142
        </td>
        <td>
          742
        </td>
        <td>
          5577
          -
          5635
        </td>
        <td>
          Apply
        </td>
        <td>
          javafx.scene.Node.snapshot
        </td>
        <td style="background: #F0ADAD">
          newTile.imageSprite.snapshot(new javafx.scene.SnapshotParameters(), null)
        </td>
      </tr><tr>
        <td>
          143
        </td>
        <td>
          744
        </td>
        <td>
          5655
          -
          5683
        </td>
        <td>
          Throw
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #F0ADAD">
          throw new scala.`package`.ClassCastException()
        </td>
      </tr><tr>
        <td>
          145
        </td>
        <td>
          745
        </td>
        <td>
          5708
          -
          5734
        </td>
        <td>
          Apply
        </td>
        <td>
          javafx.scene.layout.GridPane.getColumnIndex
        </td>
        <td style="background: #F0ADAD">
          javafx.scene.layout.GridPane.getColumnIndex(n)
        </td>
      </tr><tr>
        <td>
          146
        </td>
        <td>
          746
        </td>
        <td>
          5750
          -
          5773
        </td>
        <td>
          Apply
        </td>
        <td>
          javafx.scene.layout.GridPane.getRowIndex
        </td>
        <td style="background: #F0ADAD">
          javafx.scene.layout.GridPane.getRowIndex(n)
        </td>
      </tr><tr>
        <td>
          148
        </td>
        <td>
          747
        </td>
        <td>
          5824
          -
          5825
        </td>
        <td>
          ApplyImplicitView
        </td>
        <td>
          scala.Predef.Integer2int
        </td>
        <td style="background: #F0ADAD">
          scala.Predef.Integer2int(x)
        </td>
      </tr><tr>
        <td>
          148
        </td>
        <td>
          749
        </td>
        <td>
          5799
          -
          5829
        </td>
        <td>
          Apply
        </td>
        <td>
          cml.model.static_model.StaticStructure.apply
        </td>
        <td style="background: #F0ADAD">
          cml.model.static_model.StaticStructure.apply(newTile, scala.Predef.Integer2int(x), scala.Predef.Integer2int(y))
        </td>
      </tr><tr>
        <td>
          148
        </td>
        <td>
          748
        </td>
        <td>
          5827
          -
          5828
        </td>
        <td>
          ApplyImplicitView
        </td>
        <td>
          scala.Predef.Integer2int
        </td>
        <td style="background: #F0ADAD">
          scala.Predef.Integer2int(y)
        </td>
      </tr><tr>
        <td>
          149
        </td>
        <td>
          750
        </td>
        <td>
          5848
          -
          5862
        </td>
        <td>
          Select
        </td>
        <td>
          cml.model.static_model.StaticStructure.json
        </td>
        <td style="background: #F0ADAD">
          structure.json
        </td>
      </tr><tr>
        <td>
          150
        </td>
        <td>
          752
        </td>
        <td>
          5870
          -
          5914
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.collection.mutable.MutableList.+=
        </td>
        <td style="background: #F0ADAD">
          Handler.this.village.structures.+=(structure.getStructure)
        </td>
      </tr><tr>
        <td>
          150
        </td>
        <td>
          751
        </td>
        <td>
          5892
          -
          5914
        </td>
        <td>
          Select
        </td>
        <td>
          cml.model.static_model.StaticStructure.getStructure
        </td>
        <td style="background: #F0ADAD">
          structure.getStructure
        </td>
      </tr><tr>
        <td>
          151
        </td>
        <td>
          756
        </td>
        <td>
          5935
          -
          5935
        </td>
        <td>
          Apply
        </td>
        <td>
          akka.actor.ScalaActorSelection.!$default$2
        </td>
        <td style="background: #F0ADAD">
          qual$6.!$default$2(x$17)
        </td>
      </tr><tr>
        <td>
          151
        </td>
        <td>
          753
        </td>
        <td>
          5922
          -
          5934
        </td>
        <td>
          Select
        </td>
        <td>
          cml.view.Handler.villageActor
        </td>
        <td style="background: #F0ADAD">
          Handler.this.villageActor
        </td>
      </tr><tr>
        <td>
          151
        </td>
        <td>
          755
        </td>
        <td>
          5937
          -
          5956
        </td>
        <td>
          Apply
        </td>
        <td>
          cml.controller.messages.VillageRequest.UpdateVillage.apply
        </td>
        <td style="background: #F0ADAD">
          cml.controller.messages.VillageRequest.UpdateVillage.apply(json)
        </td>
      </tr><tr>
        <td>
          151
        </td>
        <td>
          757
        </td>
        <td>
          5922
          -
          5956
        </td>
        <td>
          ApplyToImplicitArgs
        </td>
        <td>
          akka.actor.ScalaActorSelection.!
        </td>
        <td style="background: #F0ADAD">
          qual$6.!(x$17)(x$18)
        </td>
      </tr><tr>
        <td>
          151
        </td>
        <td>
          754
        </td>
        <td>
          5922
          -
          5934
        </td>
        <td>
          ApplyImplicitView
        </td>
        <td>
          akka.actor.ActorSelection.toScala
        </td>
        <td style="background: #F0ADAD">
          actor.this.ActorSelection.toScala(Handler.this.villageActor)
        </td>
      </tr><tr>
        <td>
          154
        </td>
        <td>
          759
        </td>
        <td>
          6072
          -
          6088
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Int.-
        </td>
        <td style="background: #F0ADAD">
          cml.utils.ModelConfig.Resource.INIT_VALUE.-(Handler.this.price)
        </td>
      </tr><tr>
        <td>
          154
        </td>
        <td>
          758
        </td>
        <td>
          6083
          -
          6088
        </td>
        <td>
          Select
        </td>
        <td>
          cml.view.Handler.price
        </td>
        <td style="background: #F0ADAD">
          Handler.this.price
        </td>
      </tr><tr>
        <td>
          154
        </td>
        <td>
          760
        </td>
        <td>
          6062
          -
          6094
        </td>
        <td>
          Select
        </td>
        <td>
          cml.utils.MoneyJson.json
        </td>
        <td style="background: #F0ADAD">
          cml.utils.MoneyJson.apply(cml.utils.ModelConfig.Resource.INIT_VALUE.-(Handler.this.price)).json
        </td>
      </tr><tr>
        <td>
          155
        </td>
        <td>
          765
        </td>
        <td>
          6102
          -
          6144
        </td>
        <td>
          ApplyToImplicitArgs
        </td>
        <td>
          akka.actor.ScalaActorSelection.!
        </td>
        <td style="background: #F0ADAD">
          qual$7.!(x$19)(x$20)
        </td>
      </tr><tr>
        <td>
          155
        </td>
        <td>
          762
        </td>
        <td>
          6102
          -
          6114
        </td>
        <td>
          ApplyImplicitView
        </td>
        <td>
          akka.actor.ActorSelection.toScala
        </td>
        <td style="background: #F0ADAD">
          actor.this.ActorSelection.toScala(Handler.this.villageActor)
        </td>
      </tr><tr>
        <td>
          155
        </td>
        <td>
          761
        </td>
        <td>
          6102
          -
          6114
        </td>
        <td>
          Select
        </td>
        <td>
          cml.view.Handler.villageActor
        </td>
        <td style="background: #F0ADAD">
          Handler.this.villageActor
        </td>
      </tr><tr>
        <td>
          155
        </td>
        <td>
          764
        </td>
        <td>
          6115
          -
          6115
        </td>
        <td>
          Apply
        </td>
        <td>
          akka.actor.ScalaActorSelection.!$default$2
        </td>
        <td style="background: #F0ADAD">
          qual$7.!$default$2(x$19)
        </td>
      </tr><tr>
        <td>
          155
        </td>
        <td>
          763
        </td>
        <td>
          6117
          -
          6144
        </td>
        <td>
          Apply
        </td>
        <td>
          cml.controller.messages.VillageRequest.UpdateVillage.apply
        </td>
        <td style="background: #F0ADAD">
          cml.controller.messages.VillageRequest.UpdateVillage.apply(resourceJson)
        </td>
      </tr><tr>
        <td>
          157
        </td>
        <td>
          767
        </td>
        <td>
          6154
          -
          6262
        </td>
        <td>
          Apply
        </td>
        <td>
          javafx.scene.control.TextInputControl.setText
        </td>
        <td style="background: #F0ADAD">
          c.selectionInfo.setText(&quot;Dropped element &quot;.+(dragBoard.getString()).+(&quot; in coordinates (&quot;).+(x).+(&quot; - &quot;).+(y).+(&quot;)&quot;))
        </td>
      </tr><tr>
        <td>
          157
        </td>
        <td>
          766
        </td>
        <td>
          6178
          -
          6262
        </td>
        <td>
          Apply
        </td>
        <td>
          java.lang.String.+
        </td>
        <td style="background: #F0ADAD">
          &quot;Dropped element &quot;.+(dragBoard.getString()).+(&quot; in coordinates (&quot;).+(x).+(&quot; - &quot;).+(y).+(&quot;)&quot;)
        </td>
      </tr><tr>
        <td>
          158
        </td>
        <td>
          768
        </td>
        <td>
          6270
          -
          6285
        </td>
        <td>
          Apply
        </td>
        <td>
          javafx.event.Event.consume
        </td>
        <td style="background: #F0ADAD">
          event.consume()
        </td>
      </tr><tr>
        <td>
          163
        </td>
        <td>
          770
        </td>
        <td>
          6452
          -
          6454
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #F0ADAD">
          &quot;&quot;
        </td>
      </tr><tr>
        <td>
          164
        </td>
        <td>
          771
        </td>
        <td>
          6476
          -
          6480
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #F0ADAD">
          null
        </td>
      </tr><tr>
        <td>
          164
        </td>
        <td>
          773
        </td>
        <td>
          6463
          -
          6502
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Boolean.&amp;&amp;
        </td>
        <td style="background: #F0ADAD">
          creatures.!=(null).&amp;&amp;(creatures.nonEmpty)
        </td>
      </tr><tr>
        <td>
          164
        </td>
        <td>
          772
        </td>
        <td>
          6484
          -
          6502
        </td>
        <td>
          Select
        </td>
        <td>
          scala.collection.TraversableOnce.nonEmpty
        </td>
        <td style="background: #F0ADAD">
          creatures.nonEmpty
        </td>
      </tr><tr>
        <td>
          165
        </td>
        <td>
          774
        </td>
        <td>
          6520
          -
          6532
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #F0ADAD">
          &quot;Structure &quot;
        </td>
      </tr><tr>
        <td>
          165
        </td>
        <td>
          788
        </td>
        <td>
          6513
          -
          6784
        </td>
        <td>
          Assign
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #F0ADAD">
          text = &quot;Structure &quot;.+(name).+(&quot;\n&quot;).+(&quot;Level: &quot;).+(level).+(&quot;\n&quot;).+(&quot;Resources: &quot;).+(resourceAmount).+(&quot;\n&quot;).+(&quot;Creature: &quot;).+(creatures.head.name).+(&quot;\nType: &quot;).+(creatures.head.creatureType).+(&quot;\n&quot;).+(&quot;Creature level: &quot;).+(creatures.head.currentLevel)
        </td>
      </tr><tr>
        <td>
          165
        </td>
        <td>
          775
        </td>
        <td>
          6542
          -
          6546
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #F0ADAD">
          &quot;\n&quot;
        </td>
      </tr><tr>
        <td>
          166
        </td>
        <td>
          777
        </td>
        <td>
          6578
          -
          6582
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #F0ADAD">
          &quot;\n&quot;
        </td>
      </tr><tr>
        <td>
          166
        </td>
        <td>
          776
        </td>
        <td>
          6558
          -
          6567
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #F0ADAD">
          &quot;Level: &quot;
        </td>
      </tr><tr>
        <td>
          167
        </td>
        <td>
          779
        </td>
        <td>
          6627
          -
          6631
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #F0ADAD">
          &quot;\n&quot;
        </td>
      </tr><tr>
        <td>
          167
        </td>
        <td>
          778
        </td>
        <td>
          6594
          -
          6607
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #F0ADAD">
          &quot;Resources: &quot;
        </td>
      </tr><tr>
        <td>
          168
        </td>
        <td>
          783
        </td>
        <td>
          6692
          -
          6719
        </td>
        <td>
          Select
        </td>
        <td>
          cml.model.base.Creature.creatureType
        </td>
        <td style="background: #F0ADAD">
          creatures.head.creatureType
        </td>
      </tr><tr>
        <td>
          168
        </td>
        <td>
          782
        </td>
        <td>
          6680
          -
          6690
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #F0ADAD">
          &quot;\nType: &quot;
        </td>
      </tr><tr>
        <td>
          168
        </td>
        <td>
          784
        </td>
        <td>
          6721
          -
          6725
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #F0ADAD">
          &quot;\n&quot;
        </td>
      </tr><tr>
        <td>
          168
        </td>
        <td>
          781
        </td>
        <td>
          6658
          -
          6677
        </td>
        <td>
          Select
        </td>
        <td>
          cml.model.base.Creature.name
        </td>
        <td style="background: #F0ADAD">
          creatures.head.name
        </td>
      </tr><tr>
        <td>
          168
        </td>
        <td>
          780
        </td>
        <td>
          6643
          -
          6655
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #F0ADAD">
          &quot;Creature: &quot;
        </td>
      </tr><tr>
        <td>
          169
        </td>
        <td>
          786
        </td>
        <td>
          6757
          -
          6784
        </td>
        <td>
          Select
        </td>
        <td>
          cml.model.base.Creature.currentLevel
        </td>
        <td style="background: #F0ADAD">
          creatures.head.currentLevel
        </td>
      </tr><tr>
        <td>
          169
        </td>
        <td>
          785
        </td>
        <td>
          6736
          -
          6754
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #F0ADAD">
          &quot;Creature level: &quot;
        </td>
      </tr><tr>
        <td>
          169
        </td>
        <td>
          787
        </td>
        <td>
          6520
          -
          6784
        </td>
        <td>
          Apply
        </td>
        <td>
          java.lang.String.+
        </td>
        <td style="background: #F0ADAD">
          &quot;Structure &quot;.+(name).+(&quot;\n&quot;).+(&quot;Level: &quot;).+(level).+(&quot;\n&quot;).+(&quot;Resources: &quot;).+(resourceAmount).+(&quot;\n&quot;).+(&quot;Creature: &quot;).+(creatures.head.name).+(&quot;\nType: &quot;).+(creatures.head.creatureType).+(&quot;\n&quot;).+(&quot;Creature level: &quot;).+(creatures.head.currentLevel)
        </td>
      </tr><tr>
        <td>
          171
        </td>
        <td>
          790
        </td>
        <td>
          6804
          -
          6922
        </td>
        <td>
          Assign
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #F0ADAD">
          text = &quot;Structure &quot;.+(name).+(&quot;\n&quot;).+(&quot;Level: &quot;).+(level).+(&quot;\n&quot;).+(&quot;Resources: &quot;).+(resourceAmount).+(&quot;\n&quot;)
        </td>
      </tr><tr>
        <td>
          173
        </td>
        <td>
          789
        </td>
        <td>
          6811
          -
          6922
        </td>
        <td>
          Apply
        </td>
        <td>
          java.lang.String.+
        </td>
        <td style="background: #F0ADAD">
          &quot;Structure &quot;.+(name).+(&quot;\n&quot;).+(&quot;Level: &quot;).+(level).+(&quot;\n&quot;).+(&quot;Resources: &quot;).+(resourceAmount).+(&quot;\n&quot;)
        </td>
      </tr><tr>
        <td>
          179
        </td>
        <td>
          791
        </td>
        <td>
          7018
          -
          7049
        </td>
        <td>
          Apply
        </td>
        <td>
          javafx.scene.Node.setDisable
        </td>
        <td style="background: #F0ADAD">
          c.levelUpButton.setDisable(true)
        </td>
      </tr><tr>
        <td>
          180
        </td>
        <td>
          792
        </td>
        <td>
          7055
          -
          7083
        </td>
        <td>
          Apply
        </td>
        <td>
          javafx.scene.Node.setDisable
        </td>
        <td style="background: #F0ADAD">
          c.takeButton.setDisable(true)
        </td>
      </tr><tr>
        <td>
          181
        </td>
        <td>
          793
        </td>
        <td>
          7089
          -
          7124
        </td>
        <td>
          Apply
        </td>
        <td>
          javafx.scene.Node.setDisable
        </td>
        <td style="background: #F0ADAD">
          c.addCreatureButton.setDisable(true)
        </td>
      </tr><tr>
        <td>
          185
        </td>
        <td>
          794
        </td>
        <td>
          7210
          -
          7212
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #F0ADAD">
          &quot;&quot;
        </td>
      </tr><tr>
        <td>
          186
        </td>
        <td>
          795
        </td>
        <td>
          7218
          -
          7236
        </td>
        <td>
          Apply
        </td>
        <td>
          java.lang.Class.getName
        </td>
        <td style="background: #F0ADAD">
          s.getClass().getName()
        </td>
      </tr><tr>
        <td>
          187
        </td>
        <td>
          796
        </td>
        <td>
          7272
          -
          7278
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #F0ADAD">
          &quot;FARM&quot;
        </td>
      </tr><tr>
        <td>
          188
        </td>
        <td>
          797
        </td>
        <td>
          7306
          -
          7312
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #F0ADAD">
          &quot;CAVE&quot;
        </td>
      </tr><tr>
        <td>
          189
        </td>
        <td>
          800
        </td>
        <td>
          7343
          -
          7376
        </td>
        <td>
          Apply
        </td>
        <td>
          java.lang.String.+
        </td>
        <td style="background: #F0ADAD">
          &quot;HABITAT - Element: &quot;.+(s.element)
        </td>
      </tr><tr>
        <td>
          189
        </td>
        <td>
          799
        </td>
        <td>
          7367
          -
          7376
        </td>
        <td>
          Select
        </td>
        <td>
          cml.model.base.Structure.element
        </td>
        <td style="background: #F0ADAD">
          s.element
        </td>
      </tr><tr>
        <td>
          189
        </td>
        <td>
          798
        </td>
        <td>
          7343
          -
          7364
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #F0ADAD">
          &quot;HABITAT - Element: &quot;
        </td>
      </tr><tr>
        <td>
          198
        </td>
        <td>
          801
        </td>
        <td>
          7588
          -
          7604
        </td>
        <td>
          Apply
        </td>
        <td>
          javafx.scene.layout.Pane.getChildren
        </td>
        <td style="background: #F0ADAD">
          grid.getChildren()
        </td>
      </tr><tr>
        <td>
          199
        </td>
        <td>
          803
        </td>
        <td>
          7610
          -
          7666
        </td>
        <td>
          Apply
        </td>
        <td>
          java.lang.Iterable.forEach
        </td>
        <td style="background: #F0ADAD">
          gridChildren.forEach(((g: javafx.scene.Node) =&gt; handler.handle(g, controller)))
        </td>
      </tr><tr>
        <td>
          199
        </td>
        <td>
          802
        </td>
        <td>
          7636
          -
          7665
        </td>
        <td>
          Apply
        </td>
        <td>
          cml.view.Handler.handle
        </td>
        <td style="background: #F0ADAD">
          handler.handle(g, controller)
        </td>
      </tr><tr>
        <td>
          202
        </td>
        <td>
          804
        </td>
        <td>
          7800
          -
          7821
        </td>
        <td>
          Select
        </td>
        <td>
          cml.view.Handler.handleVillage
        </td>
        <td style="background: #F0ADAD">
          Handler.handleVillage
        </td>
      </tr><tr>
        <td>
          202
        </td>
        <td>
          805
        </td>
        <td>
          7770
          -
          7822
        </td>
        <td>
          Apply
        </td>
        <td>
          cml.view.ConcreteHandlerSetup.setHandlers
        </td>
        <td style="background: #F0ADAD">
          ConcreteHandlerSetup.this.setHandlers(grid, controller, Handler.handleVillage)
        </td>
      </tr><tr>
        <td>
          204
        </td>
        <td>
          806
        </td>
        <td>
          7953
          -
          7975
        </td>
        <td>
          Select
        </td>
        <td>
          cml.view.Handler.handleBuilding
        </td>
        <td style="background: #F0ADAD">
          Handler.handleBuilding
        </td>
      </tr><tr>
        <td>
          204
        </td>
        <td>
          807
        </td>
        <td>
          7923
          -
          7976
        </td>
        <td>
          Apply
        </td>
        <td>
          cml.view.ConcreteHandlerSetup.setHandlers
        </td>
        <td style="background: #F0ADAD">
          ConcreteHandlerSetup.this.setHandlers(grid, controller, Handler.handleBuilding)
        </td>
      </tr>
    </table>
          </div>
        </div>
      </body>
    </html>