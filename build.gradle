apply plugin: 'java'
apply plugin: 'scala'
//apply plugin: 'scalaStyle'

repositories {
    jcenter()
    mavenCentral()
}

dependencies {
    compile 'org.scala-lang:scala-library:2.12.2'

    //ScalaTest testing framework
    testCompile 'junit:junit:4.12'
    testCompile "org.scalatest:scalatest_2.12:3.0.5"

    // Use Scoverage for checking the tests covered
//    scoverage 'org.scoverage:scalac-scoverage-plugin_2.12:1.3.1', 'org.scoverage:scalac-scoverage-runtime_2.12:1.3.1'
//    testCompile "org.scalacheck:scalacheck_2.12:1.14.0"

    // Plug-in to show scalaStyle warnings
//    classpath "org.github.ngbinh.scalastyle:gradle-scalastyle-plugin_2.11:1.0.1"
}

//scalaStyle {
//    configLocation = "/path/to/scalaStyle.xml"
//    includeTestSourceDirectory = true
//    source = "src/main/scala"
//    testSource = "src/test/scala"
//}

// Enabling Checkstyle
apply plugin: 'checkstyle'
checkstyle {
    toolVersion '7.8.1'
    configFile file("config/checkstyle/checkstyle.xml")
}
checkstyleMain {
    source ='src/main/scala'
}
checkstyleTest {
    source ='src/test/scala'
}

// Enabling FindBugs
apply plugin: 'findbugs'

findbugs {
    ignoreFailures = false
    toolVersion = "3.0.1"
    sourceSets=[sourceSets.main]
    excludeFilter = file("config/findbugs/excludeFilter.xml")
    reportsDir = file("$project.buildDir/reports/findbugs")
    effort = "max"
    reportLevel = "high"
    ignoreFailures = true
}
tasks.withType(FindBugs) {
    reports {
        xml.enabled = false
        html.enabled = true
    }
}